{"version":3,"sources":["webpack:///src/components/view/commission.vue","webpack:///./src/api/commission.js","webpack:///./src/components/view/commission.vue?e544","webpack:///./src/components/view/commission.vue"],"names":["commission","computed","extends_default","Object","vuex_esm","data","tzratio","oneratio","tworatio","threeratio","beforeCreate","this","form","$form","createForm","created","init","methods","_this","jurisdiction","params","arguments","length","undefined","request","url","method","getCommission","then","res","result","tz","ratio","one","two","three","$router","push","submit","e","_this2","preventDefault","validateFields","err","values","total","parseInt","console","log","$message","error","code","success","msg","transform","value","view_commission","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","_v","directives","name","rawName","rules","required","pattern","message","initialValue","expression","addonBefore","addonAfter","type","size","click","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.d3fc5275a25a30e7ecad.js","sourcesContent":["<template>\r\n  <div\r\n    class=\"content\"\r\n    v-if='tzratio'\r\n  >\r\n    <a-form\r\n      :form=\"form\"\r\n      @submit=\"submit\"\r\n    >\r\n      <div class=\"wrap\">\r\n        <h2 class=\"title\">各等级佣金比列</h2>\r\n        <a-form-item>\r\n          <a-input\r\n            addonBefore=\"团长\"\r\n            addonAfter=\"%\"\r\n            v-decorator=\"[\r\n          'tzratio',\r\n          {rules: [{ required: true,  pattern:/\\d/g,message: '请输入合法的比列值！' }],initialValue:tzratio *100,transform:transform}\r\n        ]\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item>\r\n\r\n          <a-input\r\n            addonBefore=\"一级代理\"\r\n            addonAfter=\"%\"\r\n            v-decorator=\"[\r\n          'oneratio',\r\n          {rules: [{ required: true,pattern:/\\d/g, message: '请输入合法的比列值！' }],initialValue:oneratio *100}\r\n        ]\"\r\n          />\r\n\r\n        </a-form-item>\r\n        <a-form-item>\r\n\r\n          <a-input\r\n            addonBefore=\"二级代理\"\r\n            addonAfter=\"%\"\r\n            v-decorator=\"[\r\n          'tworatio',\r\n          {rules: [{ required: true,pattern:/\\d/g, message: '请输入合法的比列值！' }],initialValue:tworatio *100}\r\n        ]\"\r\n          />\r\n\r\n        </a-form-item>\r\n        <a-form-item>\r\n\r\n          <a-input\r\n            addonBefore=\"三级代理\"\r\n            addonAfter=\"%\"\r\n            v-decorator=\"[\r\n          'threeratio',\r\n          {rules: [{ required: true,pattern:/\\d/g, message: '请输入合法的比列值！' }],initialValue:threeratio *100}\r\n        ]\"\r\n          />\r\n\r\n        </a-form-item>\r\n      </div>\r\n      <a-form-item>\r\n        <a-button\r\n          type=\"primary\"\r\n          class=\"bt\"\r\n          size=\"large\"\r\n          @click=\"submit\"\r\n        >保存修改</a-button>\r\n      </a-form-item>\r\n    </a-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getCommission, upCommission } from \"@/api/commission\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  computed: {\r\n    ...mapGetters([\"jurisdiction\"])\r\n  },\r\n  data() {\r\n    return {\r\n      tzratio: null,\r\n      oneratio: null,\r\n      tworatio: null,\r\n      threeratio: null\r\n    };\r\n  },\r\n  beforeCreate() {\r\n    this.form = this.$form.createForm(this);\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      if (this.jurisdiction != \"superadmin\") {\r\n        this.$router.push(\"/401\");\r\n        return;\r\n      }\r\n      getCommission().then(res => {\r\n        let data = res.data.result;\r\n        this.tzratio = data.tz.ratio;\r\n        this.oneratio = data.one.ratio;\r\n        this.tworatio = data.two.ratio;\r\n        this.threeratio = data.three.ratio;\r\n      });\r\n    },\r\n    submit(e) {\r\n      e.preventDefault();\r\n      this.form.validateFields((err, values) => {\r\n        let total =\r\n          parseInt(values.oneratio) +\r\n          parseInt(values.tworatio) +\r\n          parseInt(values.threeratio) +\r\n          parseInt(values.tzratio);\r\n        if (total > 100) {\r\n          console.log(total);\r\n          return this.$message.error(\"总佣金分配比列值超过100,不合法\");\r\n        }\r\n        upCommission(values).then(res => {\r\n          let { data } = res;\r\n          if (data.code != 200) return this.$message.error(\"更新失败\");\r\n          this.$message.success(data.msg);\r\n        });\r\n      });\r\n    },\r\n    transform(value) {\r\n      console.log(value);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.content {\r\n  width: 30%;\r\n  margin: 50px auto 0 auto;\r\n}\r\n.wrap {\r\n  width: 100%;\r\n}\r\n.title {\r\n  text-align: center;\r\n}\r\n.bt {\r\n  width: 100%;\r\n  text-align: center;\r\n  //   padding: 10px 0;\r\n}\r\n.txt {\r\n  //   padding: 10px 50px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/view/commission.vue","import request from '@/util/request'\r\nfunction getCommission(params = {}) {\r\n\r\n    return request({\r\n        url: 'api/get/yj/getyj',\r\n        method: 'get',\r\n        params\r\n    })\r\n}\r\nfunction upCommission(data) {\r\n    return request({\r\n        url: 'api/post/yj/upcommission',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\nexport { getCommission, upCommission }\n\n\n// WEBPACK FOOTER //\n// ./src/api/commission.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.tzratio)?_c('div',{staticClass:\"content\"},[_c('a-form',{attrs:{\"form\":_vm.form},on:{\"submit\":_vm.submit}},[_c('div',{staticClass:\"wrap\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"各等级佣金比列\")]),_vm._v(\" \"),_c('a-form-item',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'tzratio',\n        {rules: [{ required: true,  pattern:/\\d/g,message: '请输入合法的比列值！' }],initialValue:_vm.tzratio *100,transform:_vm.transform}\n      ]),expression:\"[\\n        'tzratio',\\n        {rules: [{ required: true,  pattern:/\\\\d/g,message: '请输入合法的比列值！' }],initialValue:tzratio *100,transform:transform}\\n      ]\"}],attrs:{\"addonBefore\":\"团长\",\"addonAfter\":\"%\"}})],1),_vm._v(\" \"),_c('a-form-item',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'oneratio',\n        {rules: [{ required: true,pattern:/\\d/g, message: '请输入合法的比列值！' }],initialValue:_vm.oneratio *100}\n      ]),expression:\"[\\n        'oneratio',\\n        {rules: [{ required: true,pattern:/\\\\d/g, message: '请输入合法的比列值！' }],initialValue:oneratio *100}\\n      ]\"}],attrs:{\"addonBefore\":\"一级代理\",\"addonAfter\":\"%\"}})],1),_vm._v(\" \"),_c('a-form-item',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'tworatio',\n        {rules: [{ required: true,pattern:/\\d/g, message: '请输入合法的比列值！' }],initialValue:_vm.tworatio *100}\n      ]),expression:\"[\\n        'tworatio',\\n        {rules: [{ required: true,pattern:/\\\\d/g, message: '请输入合法的比列值！' }],initialValue:tworatio *100}\\n      ]\"}],attrs:{\"addonBefore\":\"二级代理\",\"addonAfter\":\"%\"}})],1),_vm._v(\" \"),_c('a-form-item',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'threeratio',\n        {rules: [{ required: true,pattern:/\\d/g, message: '请输入合法的比列值！' }],initialValue:_vm.threeratio *100}\n      ]),expression:\"[\\n        'threeratio',\\n        {rules: [{ required: true,pattern:/\\\\d/g, message: '请输入合法的比列值！' }],initialValue:threeratio *100}\\n      ]\"}],attrs:{\"addonBefore\":\"三级代理\",\"addonAfter\":\"%\"}})],1)],1),_vm._v(\" \"),_c('a-form-item',[_c('a-button',{staticClass:\"bt\",attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.submit}},[_vm._v(\"保存修改\")])],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c17c6b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/view/commission.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c17c6b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./commission.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./commission.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./commission.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c17c6b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./commission.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7c17c6b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/view/commission.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}