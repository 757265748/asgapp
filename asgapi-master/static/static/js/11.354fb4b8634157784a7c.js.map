{"version":3,"sources":["webpack:///src/components/view/member-list.vue","webpack:///./src/components/view/member-list.vue?8962","webpack:///./src/components/view/member-list.vue"],"names":["columns","title","dataIndex","width","scopedSlots","customRender","member_list","computed","extends_default","Object","vuex_esm","mounted","this","fetch","operatorcode","data","pagination","loading","modalVisible","memberdata","bttilte","methods","search","value","onSelect","index","_this","user","phone","then","res","type","console","log","showConfirm","that","$confirm","content","onOk","upgradelevel","onCancel","_this2","$message","success","handleTableChange","filters","sorter","pager","current","results","pageSize","page","sortField","field","sortOrder","order","_this3","params","arguments","length","undefined","code","error","i","result","id","view_member_list","render","_vm","_h","$createElement","_c","_self","attrs","placeholder","enterButton","on","_v","staticClass","dataSource","change","_u","key","fn","name","_s","first","last","username","click","$event","centered","model","callback","$$v","expression","size","src","avatar","alt","zfb","sex","zfbname","pid","jurisdiction","invitecode","_e","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"8KAoFAA,IAEAC,MAAA,MACAC,UAAA,WACAC,MAAA,QAGAF,MAAA,KACAC,UAAA,UAGAD,MAAA,OACAC,UAAA,oBAGAD,MAAA,MACAC,UAAA,oBAGAD,MAAA,KACAC,UAAA,KACAE,aAAAC,aAAA,eAIAC,GACAC,SAAYC,OACZC,OAAAC,EAAA,EAAAD,EAAA,kBAEAE,QAJA,WAKAC,KAAAC,OAAAC,aAAAF,KAAAE,gBAEAC,KAPA,WAQA,OACAA,QACAC,cACAC,SAAA,EACAjB,UACAkB,cAAA,EACAC,WAAA,KACAC,QAAA,KAGAC,SACAC,OADA,SACAC,GACAX,KAAAC,OAAAC,aAAAS,KAEAC,SAJA,SAIAC,GAAA,IAAAC,EAAAd,KACAA,KAAAM,cAAA,EACMT,OAAAkB,EAAA,EAAAlB,EAANmB,MAAAhB,KAAAG,KAAAU,GAAAG,QAAAC,KAAA,SAAAC,GACAJ,EAAAP,WAAAW,EAAAf,UACAW,EAAAN,QAAA,GAAAM,EAAAP,WAAAY,KAAA,cACAC,QAAAC,IAAA,QAAAP,EAAAP,eAQAe,YAjBA,WAkBA,IAAAC,EAAAvB,KACAA,KAAAwB,UACAnC,MAAA,KACAoC,QACA,GAAAF,EAAAhB,WAAAY,KACA,cACA,YACAO,KANA,WAOAH,EAAAI,aAAAJ,EAAAhB,WAAAS,MAAAO,EAAAhB,WAAAY,OAEAS,SATA,gBAYAD,aA/BA,SA+BAX,EAAAG,GAAA,IAAAU,EAAA7B,KACAmB,EAAA,GAAAA,EAAA,IAEMtB,OAAAkB,EAAA,EAAAlB,EAANmB,QAAAG,SAAAF,KAAA,SAAAC,GACAW,EAAAtB,WAAAW,EAAAf,UACA0B,EAAArB,QAAA,GAAAqB,EAAAtB,WAAAY,KAAA,cACAU,EAAAC,SAAAC,QACA,GAAAF,EAAAtB,WAAAY,KAAA,eAEAC,QAAAC,IAAA,OAAAQ,EAAAtB,eAGAyB,kBA3CA,SA2CA5B,EAAA6B,EAAAC,GACA,IAAAC,EAAAvC,OAAAI,KAAAI,YACA+B,EAAAC,QAAAhC,EAAAgC,QACApC,KAAAI,WAAA+B,EACAnC,KAAAC,MAAAL,KACAyC,QAAAjC,EAAAkC,SACAC,KAAAnC,EAAAgC,QACAI,UAAAN,EAAAO,MACAC,UAAAR,EAAAS,OACAV,KAGAhC,MAvDA,WAuDA,IAAA2C,EAAA5C,KAAA6C,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,MACA9C,KAAAK,SAAA,EACMR,OAAAkB,EAAA,EAAAlB,CAANgD,GAAA5B,KAAA,SAAAC,GACAE,QAAAC,IAAA,KAAAwB,GACAD,EAAAvC,SAAA,EACA,IAAAF,EAAAe,EAAAf,KACA,QAAAA,EAAA8C,KACA,OAAAL,EAAAd,SAAAoB,MAAA,UAEA,QAAAC,KAAAhD,EAAAiD,OACAjD,EAAAiD,OAAAD,GAAAE,GAAAF,EAEAP,EAAAzC,QACAyC,EAAAzC,OAAAiD,OACAhC,QAAAC,IAAA,MAAAuB,EAAAzC,WCjMemD,GADEC,OAFjB,WAA0B,IAAAC,EAAAxD,KAAayD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,OAAOR,GAAA,iBAAoBM,EAAA,kBAAuBE,OAAOC,YAAA,eAAAC,YAAA,IAA8CC,IAAKtD,OAAA8C,EAAA9C,WAAqB,GAAA8C,EAAAS,GAAA,KAAAN,EAAA,WAAgCO,YAAA,QAAAL,OAA2BzE,QAAAoE,EAAApE,QAAA+E,WAAAX,EAAArD,KAAAC,WAAAoD,EAAApD,WAAAC,QAAAmD,EAAAnD,SAA8F2D,IAAKI,OAAAZ,EAAAxB,mBAA+BxC,YAAAgE,EAAAa,KAAsBC,IAAA,OAAAC,GAAA,SAAAC,GAA6B,OAAAhB,EAAAS,GAAA,WAAAT,EAAAiB,GAAAD,EAAAE,OAAA,IAAAlB,EAAAiB,GAAAD,EAAAG,MAAA,cAAiFL,IAAA,YAAAC,GAAA,SAAAK,GAAsC,OAAAjB,EAAA,OAAkBO,YAAA,4BAAsCP,EAAA,QAAAA,EAAA,KAAqBK,IAAIa,MAAA,SAAAC,GAAyBtB,EAAA5C,SAAAgE,OAAyBpB,EAAAS,GAAA,qBAA4BT,EAAAS,GAAA,KAAAN,EAAA,OAAwBE,OAAOR,GAAA,oCAAuCM,EAAA,WAAgBE,OAAOxE,MAAA,OAAA0F,SAAA,IAA6BC,OAAQrE,MAAA6C,EAAA,aAAAyB,SAAA,SAAAC,GAAkD1B,EAAAlD,aAAA4E,GAAqBC,WAAA,kBAA4B3B,EAAA,WAAAG,EAAA,OAA6BO,YAAA,YAAsBP,EAAA,YAAiBE,OAAOuB,KAAA,IAAAC,IAAA7B,EAAAjD,WAAA+E,OAAAC,IAAA,YAAuD/B,EAAAS,GAAA,KAAAN,EAAA,OAAAA,EAAA,KAAgCO,YAAA,QAAkBV,EAAAS,GAAA,OAAAT,EAAAiB,GAAAjB,EAAAjD,WAAAqE,aAAApB,EAAAS,GAAA,KAAAN,EAAA,KAAuEO,YAAA,QAAkBV,EAAAS,GAAA,OAAAT,EAAAiB,GAAAjB,EAAAjD,WAAAS,UAAAwC,EAAAS,GAAA,KAAAN,EAAA,KAAoEO,YAAA,QAAkBV,EAAAS,GAAA,UAAAT,EAAAiB,GAAAjB,EAAAjD,WAAAiF,QAAAhC,EAAAS,GAAA,KAAAN,EAAA,KAAqEO,YAAA,QAAkBV,EAAAS,GAAA,OAAAT,EAAAiB,GAAAjB,EAAAjD,WAAAkF,QAAAjC,EAAAS,GAAA,KAAAN,EAAA,KAAkEO,YAAA,QAAkBV,EAAAS,GAAA,UAAAT,EAAAiB,GAAAjB,EAAAjD,WAAAmF,YAAAlC,EAAAS,GAAA,KAAAN,EAAA,KAAyEO,YAAA,QAAkBV,EAAAS,GAAA,UAAAT,EAAAiB,GAAAjB,EAAAjD,WAAAoF,QAAAnC,EAAAS,GAAA,KAAAN,EAAA,KAAqEO,YAAA,QAAkBV,EAAAS,GAAA,YAAAT,EAAAiB,GAAAjB,EAAAjD,WAAAL,iBAAAsD,EAAAS,GAAA,KAAAN,EAAA,KAAgFO,YAAA,QAAkBV,EAAAS,GAAA,OAAAT,EAAAiB,GAAAjB,EAAAjD,WAAAqF,iBAAApC,EAAAS,GAAA,KAAAN,EAAA,KAA2EO,YAAA,QAAkBV,EAAAS,GAAA,QAAAT,EAAAiB,GAAAjB,EAAAjD,WAAAsF,iBAAArC,EAAAS,GAAA,KAAAT,EAAAjD,WAAAY,KAAA,EAAAwC,EAAA,YAA4GE,OAAO1C,KAAA,WAAiB6C,IAAKa,MAAArB,EAAAlC,eAAyBkC,EAAAS,GAAAT,EAAAiB,GAAAjB,EAAAhD,YAAAgD,EAAAsC,MAAA,GAAAtC,EAAAsC,KAAAtC,EAAAS,GAAA,KAAAN,EAAA,YAAiFoC,KAAA,WAAcpC,EAAA,YAAiBW,IAAA,SAAAT,OAAoB1C,KAAA,UAAAd,QAAAmD,EAAAnD,SAAuC2D,IAAKa,MAAA,WAAqB,OAAArB,EAAAlD,cAAA,MAAqCkD,EAAAS,GAAA,+CAE1tE+B,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEzG,EACA4D,GATF,EAVA,SAAA8C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/11.354fb4b8634157784a7c.js","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"search-wrap\">\r\n      <a-input-search\r\n        placeholder=\"请输入要查询的运营商编码\"\r\n        @search=\"search\"\r\n        enterButton\r\n      />\r\n    </div>\r\n\r\n    <a-table\r\n      class=\"table\"\r\n      :columns=\"columns\"\r\n      :dataSource=\"data\"\r\n      :pagination=\"pagination\"\r\n      :loading=\"loading\"\r\n      @change=\"handleTableChange\"\r\n    >\r\n      <template\r\n        slot=\"name\"\r\n        slot-scope=\"name\"\r\n      >\r\n        {{name.first}} {{name.last}}\r\n      </template>\r\n      <template\r\n        slot=\"operation\"\r\n        slot-scope=\"username\"\r\n      >\r\n        <div class='editable-row-operations'>\r\n          <span>\r\n            <a @click=\"onSelect(username)\">查看详情</a>\r\n          </span>\r\n        </div>\r\n      </template>\r\n    </a-table>\r\n    <div id=\"components-modal-demo-position\">\r\n      <a-modal\r\n        title=\"会员信息\"\r\n        centered\r\n        v-model=\"modalVisible\"\r\n      >\r\n        <div\r\n          class=\"content\"\r\n          v-if=\"memberdata\"\r\n        >\r\n          <a-avatar\r\n            :size=100\r\n            :src=\"memberdata.avatar\"\r\n            alt=\"点击更换头像\"\r\n          />\r\n          <div>\r\n            <p class=\"txt\">昵称: {{memberdata.username}}</p>\r\n            <p class=\"txt\">电话: {{memberdata.phone}}</p>\r\n            <p class=\"txt\">支付宝账号: {{memberdata.zfb}}</p>\r\n            <p class=\"txt\">性别: {{memberdata.sex}}</p>\r\n            <p class=\"txt\">支付宝名称: {{memberdata.zfbname}}</p>\r\n            <p class=\"txt\">推广位ID: {{memberdata.pid}}</p>\r\n            <p class=\"txt\">所属运营商代号: {{memberdata.operatorcode}}</p>\r\n            <p class=\"txt\">等级: {{memberdata.jurisdiction}}</p>\r\n            <p class=\"txt\">邀请码: {{memberdata.invitecode}}</p>\r\n          </div>\r\n          <a-button\r\n            v-if=\"memberdata.type >1\"\r\n            type=\"primary\"\r\n            @click=\"showConfirm\"\r\n          >{{bttilte}}</a-button>\r\n        </div>\r\n        <template slot=\"footer\">\r\n          <a-button\r\n            key=\"submit\"\r\n            type=\"primary\"\r\n            :loading=\"loading\"\r\n            @click=\"() => modalVisible = false\"\r\n          >\r\n            关闭\r\n          </a-button>\r\n        </template>\r\n      </a-modal>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getmemberList, getusermessage, userupgradelevel } from \"@/api/user\";\r\nconst columns = [\r\n  {\r\n    title: \"用户名\",\r\n    dataIndex: \"username\",\r\n    width: \"20%\"\r\n  },\r\n  {\r\n    title: \"账号\",\r\n    dataIndex: \"phone\"\r\n  },\r\n  {\r\n    title: \"本月业绩\",\r\n    dataIndex: \"commissionmonth\"\r\n  },\r\n  {\r\n    title: \"总业绩\",\r\n    dataIndex: \"commissiontotal\"\r\n  },\r\n  {\r\n    title: \"操作\",\r\n    dataIndex: \"id\",\r\n    scopedSlots: { customRender: \"operation\" }\r\n  }\r\n];\r\n\r\nexport default {\r\n  computed: {\r\n    ...mapGetters([\"operatorcode\"])\r\n  },\r\n  mounted() {\r\n    this.fetch({ operatorcode: this.operatorcode });\r\n  },\r\n  data() {\r\n    return {\r\n      data: [],\r\n      pagination: {},\r\n      loading: false,\r\n      columns,\r\n      modalVisible: false,\r\n      memberdata: null,\r\n      bttilte: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    search(value) {\r\n      this.fetch({ operatorcode: value });\r\n    },\r\n    onSelect(index) {\r\n      this.modalVisible = true;\r\n      getusermessage({ phone: this.data[index].phone }).then(res => {\r\n        this.memberdata = res.data.data;\r\n        this.bttilte = this.memberdata.type == 2 ? \"撤销团长\" : \"升级团长\";\r\n        console.log(\"shuju\", this.memberdata);\r\n      });\r\n      // console.log(this.data[index].phone);\r\n      // this.$router.push({\r\n      //   path: \"/member-information\",\r\n      //   query: { phone: this.data[index].phone }\r\n      // });\r\n    },\r\n    showConfirm() {\r\n      let that = this;\r\n      this.$confirm({\r\n        title: \"提示\",\r\n        content:\r\n          that.memberdata.type == 3\r\n            ? \"是否将该用户升级为团长\"\r\n            : \"是否撤销该用户团长\",\r\n        onOk() {\r\n          that.upgradelevel(that.memberdata.phone, that.memberdata.type);\r\n        },\r\n        onCancel() {}\r\n      });\r\n    },\r\n    upgradelevel(phone, type) {\r\n      type = type == 2 ? 3 : 2;\r\n\r\n      userupgradelevel({ phone, type }).then(res => {\r\n        this.memberdata = res.data.data;\r\n        this.bttilte = this.memberdata.type == 2 ? \"撤销团长\" : \"升级团长\";\r\n        this.$message.success(\r\n          this.memberdata.type == 2 ? \"升级成功\" : \"撤销成功\"\r\n        );\r\n        console.log(\"更新后的\", this.memberdata);\r\n      });\r\n    },\r\n    handleTableChange(pagination, filters, sorter) {\r\n      const pager = { ...this.pagination };\r\n      pager.current = pagination.current;\r\n      this.pagination = pager;\r\n      this.fetch({\r\n        results: pagination.pageSize,\r\n        page: pagination.current,\r\n        sortField: sorter.field,\r\n        sortOrder: sorter.order,\r\n        ...filters\r\n      });\r\n    },\r\n    fetch(params = {}) {\r\n      this.loading = true;\r\n      getmemberList(params).then(res => {\r\n        console.log(\"数据\", params);\r\n        this.loading = false;\r\n        let data = res.data;\r\n        if (data.code != 200) {\r\n          return this.$message.error(\"查无数据\", 4);\r\n        }\r\n        for (let i in data.result) {\r\n          data.result[i].id = i;\r\n        }\r\n        this.data = [];\r\n        this.data = data.result;\r\n        console.log(\"res\", this.data);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style  scoped lang=\"less\">\r\n.table {\r\n  color: red !important;\r\n}\r\n#search-wrap {\r\n  width: 500px !important;\r\n  margin: 0 auto;\r\n  .ant-input-suffix {\r\n    right: 0px;\r\n  }\r\n}\r\n.search-bt {\r\n  right: -22px;\r\n}\r\n#search-wrap .ant-input-affix-wrapper .ant-input-suffix button {\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.content {\r\n  width: 50%;\r\n  margin: 0 auto;\r\n}\r\n</style>\r\n \n\n\n// WEBPACK FOOTER //\n// src/components/view/member-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"search-wrap\"}},[_c('a-input-search',{attrs:{\"placeholder\":\"请输入要查询的运营商编码\",\"enterButton\":\"\"},on:{\"search\":_vm.search}})],1),_vm._v(\" \"),_c('a-table',{staticClass:\"table\",attrs:{\"columns\":_vm.columns,\"dataSource\":_vm.data,\"pagination\":_vm.pagination,\"loading\":_vm.loading},on:{\"change\":_vm.handleTableChange},scopedSlots:_vm._u([{key:\"name\",fn:function(name){return [_vm._v(\"\\n      \"+_vm._s(name.first)+\" \"+_vm._s(name.last)+\"\\n    \")]}},{key:\"operation\",fn:function(username){return [_c('div',{staticClass:\"editable-row-operations\"},[_c('span',[_c('a',{on:{\"click\":function($event){_vm.onSelect(username)}}},[_vm._v(\"查看详情\")])])])]}}])}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"components-modal-demo-position\"}},[_c('a-modal',{attrs:{\"title\":\"会员信息\",\"centered\":\"\"},model:{value:(_vm.modalVisible),callback:function ($$v) {_vm.modalVisible=$$v},expression:\"modalVisible\"}},[(_vm.memberdata)?_c('div',{staticClass:\"content\"},[_c('a-avatar',{attrs:{\"size\":100,\"src\":_vm.memberdata.avatar,\"alt\":\"点击更换头像\"}}),_vm._v(\" \"),_c('div',[_c('p',{staticClass:\"txt\"},[_vm._v(\"昵称: \"+_vm._s(_vm.memberdata.username))]),_vm._v(\" \"),_c('p',{staticClass:\"txt\"},[_vm._v(\"电话: \"+_vm._s(_vm.memberdata.phone))]),_vm._v(\" \"),_c('p',{staticClass:\"txt\"},[_vm._v(\"支付宝账号: \"+_vm._s(_vm.memberdata.zfb))]),_vm._v(\" \"),_c('p',{staticClass:\"txt\"},[_vm._v(\"性别: \"+_vm._s(_vm.memberdata.sex))]),_vm._v(\" \"),_c('p',{staticClass:\"txt\"},[_vm._v(\"支付宝名称: \"+_vm._s(_vm.memberdata.zfbname))]),_vm._v(\" \"),_c('p',{staticClass:\"txt\"},[_vm._v(\"推广位ID: \"+_vm._s(_vm.memberdata.pid))]),_vm._v(\" \"),_c('p',{staticClass:\"txt\"},[_vm._v(\"所属运营商代号: \"+_vm._s(_vm.memberdata.operatorcode))]),_vm._v(\" \"),_c('p',{staticClass:\"txt\"},[_vm._v(\"等级: \"+_vm._s(_vm.memberdata.jurisdiction))]),_vm._v(\" \"),_c('p',{staticClass:\"txt\"},[_vm._v(\"邀请码: \"+_vm._s(_vm.memberdata.invitecode))])]),_vm._v(\" \"),(_vm.memberdata.type >1)?_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showConfirm}},[_vm._v(_vm._s(_vm.bttilte))]):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('template',{slot:\"footer\"},[_c('a-button',{key:\"submit\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":function () { return _vm.modalVisible = false; }}},[_vm._v(\"\\n          关闭\\n        \")])],1)],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7857d581\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/view/member-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7857d581\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./member-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./member-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./member-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7857d581\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./member-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7857d581\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/view/member-list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}