{"version":3,"sources":["webpack:///src/components/view/additemidnews.vue","webpack:///./src/components/view/additemidnews.vue?79b2","webpack:///./src/components/view/additemidnews.vue","webpack:///./src/api/itemidnews.js"],"names":["additemidnews","computed","extends_default","Object","vuex_esm","data","previewVisible","previewImage","fileList","uploadurl","config","pic_url","methods","handleCancel","this","handlePreview","file","url","thumbUrl","handleChange","_ref","response","push","result","console","log","handleSubmit","e","_this","preventDefault","form","validateFields","err","values","OperatorCode","operatorcode","pict_url","small_images","itemidnews","then","res","code","$message","success","$router","view_additemidnews","render","this$1","_vm","_h","$createElement","_c","_self","attrs","autoFormCreate","on","submit","label","labelCol","span","wrapperCol","fieldDecoratorId","fieldDecoratorOptions","rules","type","required","id","_v","action","listType","preview","change","length","staticClass","_e","visible","footer","cancel","staticStyle","width","alt","src","offset","htmlType","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","d","itemidnewsselect","itemidnewsinsert","itemidnewsdelete","__WEBPACK_IMPORTED_MODULE_0__util_request__","request","method"],"mappings":"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","file":"static/js/8.ddbfd69d664604d6e7b0.js","sourcesContent":["<template>\n  <a-form\n    @submit=\"handleSubmit\"\n    :autoFormCreate=\"(form)=>{this.form = form}\"\n  >\n    <a-form-item\n      label=\"新闻内容\"\n      :labelCol=\"{ span: 5 }\"\n      :wrapperCol=\"{ span: 12 }\"\n      fieldDecoratorId=\"itemid_content\"\n      :fieldDecoratorOptions=\"{rules: [{type:'string', required: true }]}\"\n    >\n      <a-input id=\"itemid_content\" />\n    </a-form-item>\n\n    <a-form-item\n      label=\"商品主图\"\n      :labelCol=\"{ span: 5 }\"\n      :wrapperCol=\"{ span: 12 }\"\n      fieldDecoratorId=\"pict_url\"\n      :fieldDecoratorOptions=\"{rules: []}\"\n    >\n      <a-upload\n        label=\"商品主图\"\n        :action=\"uploadurl\"\n        listType=\"picture-card\"\n        @preview=\"handlePreview\"\n        @change=\"handleChange\"\n      >\n        <div v-if=\"fileList.length < 2\">\n          <a-icon type=\"plus\" />\n          <div class=\"ant-upload-text\">上传图片</div>\n        </div>\n      </a-upload>\n      <a-modal\n        :visible=\"previewVisible\"\n        :footer=\"null\"\n        @cancel=\"handleCancel\"\n      >\n        <img\n          alt=\"example\"\n          style=\"width: 100%\"\n          :src=\"previewImage\"\n        >\n      </a-modal>\n    </a-form-item>\n\n    <a-form-item :wrapperCol=\"{ span: 12, offset: 5 }\">\n      <a-button\n        type=\"primary\"\n        htmlType=\"submit\"\n      >新增</a-button>\n    </a-form-item>\n  </a-form>\n</template>\n<script>\nimport { itemidnewsinsert } from \"@/api/itemidnews\";\nimport { mapGetters } from \"vuex\";\nimport { BASE_URL } from \"@/config/config\";\nexport default {\n  computed: {\n    ...mapGetters([\"operatorcode\"])\n  },\n  data() {\n    return {\n      previewVisible: false,\n      previewImage: \"\",\n      fileList: [{}],\n      uploadurl: `${BASE_URL}api/post/upload/pic_url`,\n      //previewVisible1: false,\n      //   previewImage1: \"\",\n      //   fileList1: [{}],\n      pic_url: []\n      //   small_img: []\n    };\n  },\n  methods: {\n    handleCancel() {\n      this.previewVisible = false;\n    },\n    handlePreview(file) {\n      this.previewImage = file.url || file.thumbUrl;\n      this.previewVisible = true;\n      //onsole.log(\"file\", file);\n    },\n    handleChange({ fileList }) {\n      this.fileList = fileList;\n      if (fileList[0] && fileList[0].response) {\n        this.pic_url.push(fileList[0].response.result);\n        console.log(\"pic\", this.pic_url);\n      }\n    },\n    handleSubmit(e) {\n      e.preventDefault();\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          //console.log(\"Received values of form: \", values);\n          values.OperatorCode = this.operatorcode;\n          values.pic_url = this.pic_url;\n          delete values.pict_url;\n          delete values.small_images;\n\n          itemidnewsinsert(values).then(res => {\n            let data = res.data;\n            if (data.code == 200) {\n              this.$message.success(\"新增成功！\", 4);\n              this.$router.push(\"./itemidnews\");\n            }\n          });\n\n          console.log(\"values\", values);\n        }\n      });\n    }\n  }\n};\n</script>\n<style>\n/* you can make up upload button and sample style by using stylesheets */\n.ant-upload-select-picture-card i {\n  font-size: 32px;\n  color: #999;\n}\n\n.ant-upload-select-picture-card .ant-upload-text {\n  margin-top: 8px;\n  color: #666;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/view/additemidnews.vue","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-form',{attrs:{\"autoFormCreate\":function (form){this$1.form = form}},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{attrs:{\"label\":\"新闻内容\",\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 12 },\"fieldDecoratorId\":\"itemid_content\",\"fieldDecoratorOptions\":{rules: [{type:'string', required: true }]}}},[_c('a-input',{attrs:{\"id\":\"itemid_content\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"商品主图\",\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 12 },\"fieldDecoratorId\":\"pict_url\",\"fieldDecoratorOptions\":{rules: []}}},[_c('a-upload',{attrs:{\"label\":\"商品主图\",\"action\":_vm.uploadurl,\"listType\":\"picture-card\"},on:{\"preview\":_vm.handlePreview,\"change\":_vm.handleChange}},[(_vm.fileList.length < 2)?_c('div',[_c('a-icon',{attrs:{\"type\":\"plus\"}}),_vm._v(\" \"),_c('div',{staticClass:\"ant-upload-text\"},[_vm._v(\"上传图片\")])],1):_vm._e()]),_vm._v(\" \"),_c('a-modal',{attrs:{\"visible\":_vm.previewVisible,\"footer\":null},on:{\"cancel\":_vm.handleCancel}},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"alt\":\"example\",\"src\":_vm.previewImage}})])],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"wrapperCol\":{ span: 12, offset: 5 }}},[_c('a-button',{attrs:{\"type\":\"primary\",\"htmlType\":\"submit\"}},[_vm._v(\"新增\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-93b9168c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/view/additemidnews.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-93b9168c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./additemidnews.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./additemidnews.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./additemidnews.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-93b9168c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./additemidnews.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/view/additemidnews.vue\n// module id = null\n// module chunks = ","import request from '@/util/request'\nfunction itemidnewsselect(data) {\n    return request({\n        url: 'api/post/pc/itemid_news-select',\n        method:'post',\n        data,\n    })\n\n}\nfunction itemidnewsinsert(data) {\n    return request({\n        url: 'api/post/pc/itemid_news-insert',\n        method: 'post',\n        data,\n    })\n\n}\n\nfunction itemidnewsdelete(data) {\n    return request({\n        url: 'api/post/pc/itemid_news-delete',\n        method: 'post',\n        data,\n    })\n}\nexport { itemidnewsselect, itemidnewsinsert, itemidnewsdelete }\n\n\n// WEBPACK FOOTER //\n// ./src/api/itemidnews.js"],"sourceRoot":""}