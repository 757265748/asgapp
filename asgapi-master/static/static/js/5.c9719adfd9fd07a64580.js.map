{"version":3,"sources":["webpack:///src/components/view/additemidnews.vue","webpack:///./src/components/view/additemidnews.vue?d440","webpack:///./src/components/view/additemidnews.vue","webpack:///./src/api/itemidnews.js"],"names":["additemidnews","computed","extends_default","Object","vuex_esm","mounted","this","fetch","data","previewVisible","previewImage","fileList","num_iid","pic_url","uploadurl","config","methods","handleCancel","handlePreview","file","url","thumbUrl","handleChange","_ref","response","push","result","console","log","_this","arguments","length","undefined","loading","operatoritemdetail","OperatorCode","operatorcode","then","res","pagination","total","results","handleSearch","_this2","handleChange1","_this3","handleSubmit","e","_this4","preventDefault","form","validateFields","err","values","pict_url","small_images","itemidnews","code","$message","success","$router","view_additemidnews","render","this$1","_vm","_h","$createElement","_c","_self","attrs","autoFormCreate","on","submit","label","labelCol","span","wrapperCol","fieldDecoratorId","fieldDecoratorOptions","rules","required","message","staticStyle","width","showSearch","placeholder","defaultActiveFirstOption","showArrow","filterOption","notFoundContent","search","change","_l","d","key","_v","_s","type","id","action","listType","preview","staticClass","_e","visible","footer","cancel","alt","src","offset","htmlType","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","itemidnewsselect","itemidnewsinsert","itemidnewsdelete","__WEBPACK_IMPORTED_MODULE_0__util_request__","request","method"],"mappings":"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","file":"static/js/5.c9719adfd9fd07a64580.js","sourcesContent":["<template>\n  <a-form\n    @submit=\"handleSubmit\"\n    :autoFormCreate=\"(form)=>{this.form = form}\"\n  >\n    <a-form-item\n      label='商品ID'\n      :labelCol=\"{ span: 5 }\"\n      :wrapperCol=\"{ span: 12 }\"\n      fieldDecoratorId=\"num_iid\"\n      :fieldDecoratorOptions=\"{rules: [{ required: true, message: '请选择商品ID' }]}\"\n    >\n      <a-select\n        showSearch\n        placeholder=\"选择商品ID\"\n        style=\"width: 200px\"\n        :defaultActiveFirstOption=\"false\"\n        :showArrow=\"false\"\n        :filterOption=\"false\"\n        @search=\"handleSearch\"\n        @change=\"handleChange1\"\n        :notFoundContent=\"null\"\n      >\n        <a-select-option\n          v-for=\"d in data\"\n          :key=\"d.num_iid\"\n        >{{d.num_iid}}</a-select-option>\n      </a-select>\n    </a-form-item>\n    <a-form-item\n      label=\"新闻内容\"\n      :labelCol=\"{ span: 5 }\"\n      :wrapperCol=\"{ span: 12 }\"\n      fieldDecoratorId=\"itemid_content\"\n      :fieldDecoratorOptions=\"{rules: [{type:'string', required: true }]}\"\n    >\n      <a-input id=\"itemid_content\" />\n    </a-form-item>\n\n    <a-form-item\n      label=\"商品主图\"\n      :labelCol=\"{ span: 5 }\"\n      :wrapperCol=\"{ span: 12 }\"\n      fieldDecoratorId=\"pict_url\"\n      :fieldDecoratorOptions=\"{rules: []}\"\n    >\n      <a-upload\n        label=\"商品主图\"\n        :action=\"uploadurl\"\n        listType=\"picture-card\"\n        @preview=\"handlePreview\"\n        @change=\"handleChange\"\n      >\n        <div v-if=\"fileList.length < 2\">\n          <a-icon type=\"plus\" />\n          <div class=\"ant-upload-text\">上传图片</div>\n        </div>\n      </a-upload>\n      <a-modal\n        :visible=\"previewVisible\"\n        :footer=\"null\"\n        @cancel=\"handleCancel\"\n      >\n        <img\n          alt=\"example\"\n          style=\"width: 100%\"\n          :src=\"previewImage\"\n        >\n      </a-modal>\n    </a-form-item>\n\n    <a-form-item :wrapperCol=\"{ span: 12, offset: 5 }\">\n      <a-button\n        type=\"primary\"\n        htmlType=\"submit\"\n      >新增</a-button>\n    </a-form-item>\n  </a-form>\n</template>\n<script>\nimport { itemidnewsinsert } from \"@/api/itemidnews\";\nimport { mapGetters } from \"vuex\";\nimport { operatoritemdetail } from \"@/api/operatoritemdetail\";\nimport { BASE_URL } from \"@/config/config\";\nexport default {\n  computed: {\n    ...mapGetters([\"operatorcode\"])\n  },\n  mounted() {\n    this.fetch();\n  },\n  data() {\n    return {\n      previewVisible: false,\n      previewImage: \"\",\n      fileList: [{}],\n\n      data: [],\n      num_iid: \"\",\n      //previewVisible1: false,\n      //   previewImage1: \"\",\n      //   fileList1: [{}],\n      pic_url: [],\n      //   small_img: []\n      uploadurl: `${BASE_URL}api/post/upload/pic_url`\n      //previewVisible1: false,\n      //   previewImage1: \"\",\n      //   fileList1: [{}],\n      //   small_img: []\n    };\n  },\n  methods: {\n    handleCancel() {\n      this.previewVisible = false;\n    },\n    handlePreview(file) {\n      this.previewImage = file.url || file.thumbUrl;\n      this.previewVisible = true;\n      //onsole.log(\"file\", file);\n    },\n    handleChange({ fileList }) {\n      this.fileList = fileList;\n      if (fileList[0] && fileList[0].response) {\n        this.pic_url.push(fileList[0].response.result);\n        console.log(\"pic\", this.pic_url);\n      }\n    },\n    fetch(params = {}) {\n      this.loading = true;\n      let small_image = [];\n      let ret = operatoritemdetail({ OperatorCode: this.operatorcode });\n\n      ret.then(res => {\n        const pagination = { ...this.pagination };\n\n        pagination.total = res.data.results.length;\n\n        this.loading = false;\n        this.data = res.data.results;\n\n        console.log(\"data\", this.data);\n        this.pagination = pagination;\n      });\n    },\n    handleSearch(num_iid) {\n      fetch(num_iid, data => (this.data = data));\n    },\n    handleChange1(num_iid) {\n      console.log(\"num_iid\", num_iid);\n      this.num_iid = num_iid;\n      fetch(num_iid, data => (this.data = data));\n    },\n    handleSubmit(e) {\n      e.preventDefault();\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          //console.log(\"Received values of form: \", values);\n          values.OperatorCode = this.operatorcode;\n          values.pic_url = this.pic_url;\n          delete values.pict_url;\n          delete values.small_images;\n\n          itemidnewsinsert(values).then(res => {\n            let data = res.data;\n            if (data.code == 200) {\n              this.$message.success(\"新增成功！\", 4);\n              this.$router.push(\"./itemidnews\");\n            }\n          });\n\n          console.log(\"values\", values);\n        }\n      });\n    }\n  }\n};\n</script>\n<style>\n/* you can make up upload button and sample style by using stylesheets */\n.ant-upload-select-picture-card i {\n  font-size: 32px;\n  color: #999;\n}\n\n.ant-upload-select-picture-card .ant-upload-text {\n  margin-top: 8px;\n  color: #666;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/view/additemidnews.vue","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-form',{attrs:{\"autoFormCreate\":function (form){this$1.form = form}},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{attrs:{\"label\":\"商品ID\",\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 12 },\"fieldDecoratorId\":\"num_iid\",\"fieldDecoratorOptions\":{rules: [{ required: true, message: '请选择商品ID' }]}}},[_c('a-select',{staticStyle:{\"width\":\"200px\"},attrs:{\"showSearch\":\"\",\"placeholder\":\"选择商品ID\",\"defaultActiveFirstOption\":false,\"showArrow\":false,\"filterOption\":false,\"notFoundContent\":null},on:{\"search\":_vm.handleSearch,\"change\":_vm.handleChange1}},_vm._l((_vm.data),function(d){return _c('a-select-option',{key:d.num_iid},[_vm._v(_vm._s(d.num_iid))])}))],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"新闻内容\",\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 12 },\"fieldDecoratorId\":\"itemid_content\",\"fieldDecoratorOptions\":{rules: [{type:'string', required: true }]}}},[_c('a-input',{attrs:{\"id\":\"itemid_content\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"商品主图\",\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 12 },\"fieldDecoratorId\":\"pict_url\",\"fieldDecoratorOptions\":{rules: []}}},[_c('a-upload',{attrs:{\"label\":\"商品主图\",\"action\":_vm.uploadurl,\"listType\":\"picture-card\"},on:{\"preview\":_vm.handlePreview,\"change\":_vm.handleChange}},[(_vm.fileList.length < 2)?_c('div',[_c('a-icon',{attrs:{\"type\":\"plus\"}}),_vm._v(\" \"),_c('div',{staticClass:\"ant-upload-text\"},[_vm._v(\"上传图片\")])],1):_vm._e()]),_vm._v(\" \"),_c('a-modal',{attrs:{\"visible\":_vm.previewVisible,\"footer\":null},on:{\"cancel\":_vm.handleCancel}},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"alt\":\"example\",\"src\":_vm.previewImage}})])],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"wrapperCol\":{ span: 12, offset: 5 }}},[_c('a-button',{attrs:{\"type\":\"primary\",\"htmlType\":\"submit\"}},[_vm._v(\"新增\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41038627\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/view/additemidnews.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-41038627\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./additemidnews.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./additemidnews.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./additemidnews.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41038627\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./additemidnews.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/view/additemidnews.vue\n// module id = null\n// module chunks = ","import request from '@/util/request'\nfunction itemidnewsselect(data) {\n    return request({\n        url: 'api/post/pc/itemid_news-select',\n        method:'post',\n        data,\n    })\n\n}\nfunction itemidnewsinsert(data) {\n    return request({\n        url: 'api/post/pc/itemid_news-insert',\n        method: 'post',\n        data,\n    })\n\n}\n\nfunction itemidnewsdelete(data) {\n    return request({\n        url: 'api/post/pc/itemid_news-delete',\n        method: 'post',\n        data,\n    })\n}\nexport { itemidnewsselect, itemidnewsinsert, itemidnewsdelete }\n\n\n// WEBPACK FOOTER //\n// ./src/api/itemidnews.js"],"sourceRoot":""}