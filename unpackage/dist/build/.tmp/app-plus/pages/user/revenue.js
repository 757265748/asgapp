(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/revenue"],{"2a0c":function(e,t,a){"use strict";a.r(t);var n=a("761b"),r=a("e30a");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("e203");var o,s=a("f0c5"),u=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);t["default"]=u.exports},"761b":function(e,t,a){"use strict";var n,r=function(){var e=this,t=e.$createElement;e._self._c},i=[];a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}))},"866d":function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(a("4795")),i=a("8c24"),o=a("16c7");function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,a,n,r,i,o){try{var s=e[i](o),u=s.value}catch(c){return void a(c)}s.done?t(u):Promise.resolve(u).then(n,r)}function c(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){u(i,n,r,o,s,"next",e)}function s(e){u(i,n,r,o,s,"throw",e)}o(void 0)}))}}var d={data0:{datetime:"40分钟前",article_type:0,title:"uni-app行业峰会频频亮相，开发者反响热烈!",source:"DCloud",comment_count:639}},l={components:{},data:function(){return{sysH:e.getSystemInfoSync().windowHeight,scrollLeft:0,data:new Object,isClickChange:!1,tabIndex:0,newsitems:[],tabBars:[{name:"淘宝",id:"tb"}],items1:["我的订单","团队订单","团队奖金"],current1:0,activeColor1:"#333",activeBack1:"#E9CEA1",activeBorder1:"transparent",deadBack1:"transparent",deadBorder1:"#fff",deadColor1:"#fff",items:["全部","已付款","已结算","已关闭"],current:0,activeBack:"#E9CEA1",activeBorder:"transparent",activeColor:"#333",deadBack:"#fff",deadBorder:"transparent",deadColor:"#969696",orders:[],spends:[],CLSD:[],closed:[],timer:new Object,relation_id:""}},onLoad:function(){this.newsitems=this.randomfn(),this.init(),n("log"," at pages\\user\\revenue.vue:168")},onNavigationBarButtonTap:function(t){n("log",t," at pages\\user\\revenue.vue:171"),0==t.index&&e.navigateTo({url:"/pages/user/board"})},methods:{init:function(){var t=this;n("log",e.getStorageSync("user")," at pages\\user\\revenue.vue:183"),""==e.getStorageSync("user").pid?(n("log",e.getStorageSync("tbsqFlag")," at pages\\user\\revenue.vue:185"),e.getStorageSync("tbsqFlag")?(0,i.getRelation_id)({phone:e.getStorageSync("user").phone}).then((function(a){n("log",a.data," at pages\\user\\revenue.vue:190"),200==a.code&&(t.relation_id=a.data,t.incomeData(e.getStorageSync("user").id))})):e.showToast({title:"你还没有授权淘宝",icon:"none"})):(this.relation_id=e.getStorageSync("user").pid,n("log",e.getStorageSync("user").id," at pages\\user\\revenue.vue:204"),this.incomeData(e.getStorageSync("user").id))},incomeData:function(e){var t=this;(0,o.my_income)({id:e}).then((function(a){n("log",e," at pages\\user\\revenue.vue:212"),n("log",JSON.stringify(a.data)," at pages\\user\\revenue.vue:213"),200==a.code&&(t.data=a.result[0])}))},goDetail:function(t){e.navigateTo({url:"/pages/template/tabbar/detail/detail?title="+t.title})},close:function(t,a){var n=this;e.showModal({content:"是否删除本条信息？",success:function(e){e.confirm&&n.newsitems[t].data.splice(a,1)}})},loadMore:function(e){var t=this;setTimeout((function(){t.addData(e),n("log",e," at pages\\user\\revenue.vue:237")}),1200)},addData:function(e){if(this.newsitems[e].data.length>30)this.newsitems[e].loadingText="没有更多了";else for(var t=1;t<=10;t++)this.newsitems[e].data.push(d["data"+Math.floor(5*Math.random())])},changeTab:function(t){var a=this;return c(r.default.mark((function i(){var o,s,u,c,d,l,f,g,v;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=t.target.current,0===a.newsitems[o].data.length&&a.addData(o),!a.isClickChange){r.next=6;break}return a.tabIndex=o,a.isClickChange=!1,r.abrupt("return");case 6:return r.next=8,a.getElSize("tab-bar");case 8:s=r.sent,u=s.scrollLeft,c=0,d=0;case 12:if(!(d<o)){r.next=21;break}return r.next=15,a.getElSize(a.tabBars[d].id);case 15:l=r.sent,c+=l.width,n("log",c," at pages\\user\\revenue.vue:266");case 18:d++,r.next=12;break;case 21:return f=e.getSystemInfoSync().windowWidth,r.next=24,a.getElSize(a.tabBars[o].id);case 24:g=r.sent,v=g.width,c+v-u>f&&(a.scrollLeft=c+v-f),c<u&&(a.scrollLeft=c),a.isClickChange=!1,a.tabIndex=o;case 30:case"end":return r.stop()}}),i)})))()},getElSize:function(t){return new Promise((function(a,r){e.createSelectorQuery().select("#"+t).fields({size:!0,scrollOffset:!0},(function(e){a(e),n("log",e," at pages\\user\\revenue.vue:287")})).exec()}))},tapTab:function(e){var t=this;return c(r.default.mark((function a(){var n,i,o;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.target.dataset.current,0===t.newsitems[n].data.length&&t.addData(n),t.tabIndex!==n){a.next=6;break}return a.abrupt("return",!1);case 6:return a.next=8,t.getElSize("tab-bar");case 8:i=a.sent,o=i.scrollLeft,t.scrollLeft=o,t.isClickChange=!0,t.tabIndex=n;case 13:case"end":return a.stop()}}),a)})))()},randomfn:function(){for(var e=[],t=0,a=this.tabBars.length;t<a;t++){var n={loadingText:"没有更多了",data:[]};if(t<1)for(var r=1;r<=10;r++)n.data.push(d["data"+Math.floor(5*Math.random())]);e.push(n)}return e}}};t.default=l}).call(this,a("6e42")["default"],a("0de9")["default"])},bb7b:function(e,t,a){"use strict";(function(e){a("00a9"),a("921b");n(a("66fd"));var t=n(a("2a0c"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("6e42")["createPage"])},e203:function(e,t,a){"use strict";var n=a("f970"),r=a.n(n);r.a},e30a:function(e,t,a){"use strict";a.r(t);var n=a("866d"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},f970:function(e,t,a){}},[["bb7b","common/runtime","common/vendor"]]]);