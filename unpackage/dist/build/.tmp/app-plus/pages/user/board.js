(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/board"],{"2b95d":function(t,e,a){"use strict";var n,r=function(){var t=this,e=t.$createElement;t._self._c},s=[];a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}))},4561:function(t,e,a){"use strict";a.r(e);var n=a("b348"),r=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=r.a},"5bc2":function(t,e,a){"use strict";a.r(e);var n=a("2b95d"),r=a("4561");for(var s in r)"default"!==s&&function(t){a.d(e,t,(function(){return r[t]}))}(s);a("e104");var o,i=a("f0c5"),u=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=u.exports},b348:function(t,e,a){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("4795")),s=a("8c24"),o=a("16c7");function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e,a,n,r,s,o){try{var i=t[s](o),u=i.value}catch(c){return void a(c)}i.done?e(u):Promise.resolve(u).then(n,r)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var s=t.apply(e,a);function o(t){u(s,n,r,o,i,"next",t)}function i(t){u(s,n,r,o,i,"throw",t)}o(void 0)}))}}var d=function(){a.e("components/mediaList").then(function(){return resolve(a("a893"))}.bind(null,a)).catch(a.oe)},l=function(){a.e("components/order-list").then(function(){return resolve(a("c153"))}.bind(null,a)).catch(a.oe)},f=function(){a.e("components/tab-control").then(function(){return resolve(a("088e"))}.bind(null,a)).catch(a.oe)},g={data0:{datetime:"40分钟前",article_type:0,title:"uni-app行业峰会频频亮相，开发者反响热烈!",source:"DCloud",comment_count:639}},h={components:{mediaList:d,orderList:l,uniSegmentedControl:f},data:function(){return{sysH:t.getSystemInfoSync().windowHeight,scrollLeft:0,isClickChange:!1,tabIndex:0,newsitems:[],tabBars:[{name:"淘宝",id:"tb"}],items1:["我的订单","团队订单"],current1:0,activeColor1:"#333",activeBack1:"#E9CEA1",activeBorder1:"transparent",deadBack1:"transparent",deadBorder1:"#fff",deadColor1:"#fff",items:["全部","已付款","已结算","已关闭"],current:0,activeBack:"#E9CEA1",activeBorder:"transparent",activeColor:"#333",deadBack:"#fff",deadBorder:"transparent",deadColor:"#969696",orders:[],spends:[],CLSD:[],closed:[],team_orders:[],team_spends:[],team_CLSD:[],team_closed:[],timer:new Object,relation_id:""}},onLoad:function(){this.newsitems=this.randomfn(),this.getOrder(),n("log"," at pages\\user\\board.vue:162")},methods:{onClickItem1:function(t){this.current1!==t&&(this.current1=t)},onClickItem:function(t){this.current!==t&&(this.current=t)},getOrder:function(){var e=this;""==t.getStorageSync("user").pid?(n("log",t.getStorageSync("tbsqFlag")," at pages\\user\\board.vue:180"),t.getStorageSync("tbsqFlag")?(0,s.getRelation_id)({phone:t.getStorageSync("user").phone}).then((function(t){n("log",t.data," at pages\\user\\board.vue:185"),200==t.code&&(e.relation_id=t.data,e.orderData(t.data))})):t.showToast({title:"你还没有授权淘宝",icon:"none"})):(this.relation_id=t.getStorageSync("user").pid,n("log",t.getStorageSync("user")," at pages\\user\\board.vue:199"),this.orderData(t.getStorageSync("user").pid))},orderData:function(e){var a=this;(0,s.order)(e).then((function(t){for(var e in n("log",JSON.stringify(t.data)," at pages\\user\\board.vue:205"),a.orders=t.data,t.data)a.orders.push(t.data[e]),n("log",t.data[e].tk_status," at pages\\user\\board.vue:210"),12==t.data[e].tk_status?a.spends.push(t.data[e]):13==t.data[e].tk_status?a.closed.push(t.data[e]):14==t.data[e].tk_status&&a.CLSD.push(t.data[e])})),n("log",t.getStorageSync("user").id," at pages\\user\\board.vue:220"),(0,o.team_order)({id:t.getStorageSync("user").id}).then((function(t){n("log",JSON.stringify(t)," at pages\\user\\board.vue:224");var e=t.result;for(var r in a.team_orders=e,e)a.team_orders.push(e[r]),n("log",e[r].tk_status," at pages\\user\\board.vue:230"),12==e[r].tk_status?a.team_spends.push(e[r]):13==e[r].tk_status?a.team_closed.push(e[r]):14==e[r].tk_status&&a.team_CLSD.push(e[r])}))},teamOrder:function(t){},goDetail:function(e){t.navigateTo({url:"/pages/template/tabbar/detail/detail?title="+e.title})},close:function(e,a){var n=this;t.showModal({content:"是否删除本条信息？",success:function(t){t.confirm&&n.newsitems[e].data.splice(a,1)}})},loadMore:function(t){var e=this;setTimeout((function(){e.addData(t),n("log",t," at pages\\user\\board.vue:262")}),1200)},addData:function(t){if(this.newsitems[t].data.length>30)this.newsitems[t].loadingText="没有更多了";else for(var e=1;e<=10;e++)this.newsitems[t].data.push(g["data"+Math.floor(5*Math.random())])},changeTab:function(e){var a=this;return c(r.default.mark((function s(){var o,i,u,c,d,l,f,g,h;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=e.target.current,0===a.newsitems[o].data.length&&a.addData(o),!a.isClickChange){r.next=6;break}return a.tabIndex=o,a.isClickChange=!1,r.abrupt("return");case 6:return r.next=8,a.getElSize("tab-bar");case 8:i=r.sent,u=i.scrollLeft,c=0,d=0;case 12:if(!(d<o)){r.next=21;break}return r.next=15,a.getElSize(a.tabBars[d].id);case 15:l=r.sent,c+=l.width,n("log",c," at pages\\user\\board.vue:291");case 18:d++,r.next=12;break;case 21:return f=t.getSystemInfoSync().windowWidth,r.next=24,a.getElSize(a.tabBars[o].id);case 24:g=r.sent,h=g.width,c+h-u>f&&(a.scrollLeft=c+h-f),c<u&&(a.scrollLeft=c),a.isClickChange=!1,a.tabIndex=o;case 30:case"end":return r.stop()}}),s)})))()},getElSize:function(e){return new Promise((function(a,r){t.createSelectorQuery().select("#"+e).fields({size:!0,scrollOffset:!0},(function(t){a(t),n("log",t," at pages\\user\\board.vue:312")})).exec()}))},tapTab:function(t){var e=this;return c(r.default.mark((function a(){var n,s,o;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.target.dataset.current,0===e.newsitems[n].data.length&&e.addData(n),e.tabIndex!==n){a.next=6;break}return a.abrupt("return",!1);case 6:return a.next=8,e.getElSize("tab-bar");case 8:s=a.sent,o=s.scrollLeft,e.scrollLeft=o,e.isClickChange=!0,e.tabIndex=n;case 13:case"end":return a.stop()}}),a)})))()},randomfn:function(){for(var t=[],e=0,a=this.tabBars.length;e<a;e++){var n={loadingText:"没有更多了",data:[]};if(e<1)for(var r=1;r<=10;r++)n.data.push(g["data"+Math.floor(5*Math.random())]);t.push(n)}return t}}};e.default=h}).call(this,a("6e42")["default"],a("0de9")["default"])},bce6:function(t,e,a){"use strict";(function(t){a("00a9"),a("921b");n(a("66fd"));var e=n(a("5bc2"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},d514:function(t,e,a){},e104:function(t,e,a){"use strict";var n=a("d514"),r=a.n(n);r.a}},[["bce6","common/runtime","common/vendor"]]]);