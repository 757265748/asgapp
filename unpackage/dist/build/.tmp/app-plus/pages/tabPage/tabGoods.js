(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabPage/tabGoods"],{"2dbd":function(t,e,s){"use strict";s.r(e);var a=s("d96d"),o=s("3fce");for(var i in o)"default"!==i&&function(t){s.d(e,t,(function(){return o[t]}))}(i);s("b8cc");var n,r=s("f0c5"),c=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"77466ce3",null,!1,a["a"],n);e["default"]=c.exports},3966:function(t,e,s){"use strict";(function(t){s("00a9"),s("921b");a(s("66fd"));var e=a(s("2dbd"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,s("6e42")["createPage"])},"3fce":function(t,e,s){"use strict";s.r(e);var a=s("d444"),o=s.n(a);for(var i in a)"default"!==i&&function(t){s.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},"6dd9":function(t,e,s){},b8cc:function(t,e,s){"use strict";var a=s("6dd9"),o=s.n(a);o.a},d444:function(t,e,s){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s("8c24");function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n=function(){s.e("components/line").then(function(){return resolve(s("c36e"))}.bind(null,s)).catch(s.oe)},r=function(){s.e("components/scroll-index").then(function(){return resolve(s("d639"))}.bind(null,s)).catch(s.oe)},c=function(){s.e("components/mediaList").then(function(){return resolve(s("a893"))}.bind(null,s)).catch(s.oe)},u=function(){s.e("components/good-list").then(function(){return resolve(s("5b72"))}.bind(null,s)).catch(s.oe)},l=function(){s.e("components/uni-load-more").then(function(){return resolve(s("0b10"))}.bind(null,s)).catch(s.oe)},g=function(){s.e("components/go-top").then(function(){return resolve(s("e35f"))}.bind(null,s)).catch(s.oe)},d=function(){s.e("components/uni-icon").then(function(){return resolve(s("96b7"))}.bind(null,s)).catch(s.oe)},p=function(){s.e("components/uni-grid").then(function(){return resolve(s("f931"))}.bind(null,s)).catch(s.oe)},h={components:{dividLine:n,scrollIndex:r,mediaList:c,goodList:u,uniLoadMore:l,goTop:g,uniIcon:d,uniGrid:p},data:function(){var t;return t={isDefault:!0,isTotal_sales:0,isTk_rate:0,isPrice:0,sortTabFixed:!1,scrollLeft:0,isClickChange:!1,tabIndex:0,toTop:!1,page:1,newsitems:[],loadingType:1,loadingTitle:"正在玩命加载...",mask:!0,active:0,isup:3,sorts:new Object},i(t,"isDefault",!0),i(t,"isTotal_sales",0),i(t,"isTk_rate",0),i(t,"isPrice",0),i(t,"sortTabFixed",!1),i(t,"pages",new Array),i(t,"type",""),i(t,"option",new Object),t},onLoad:function(e){this.type=e.type,t.setNavigationBarTitle({title:this.type}),a("log",this.randomfn()," at pages\\tabPage\\tabGoods.vue:100")},onNavigationBarButtonTap:function(e){a("log",e," at pages\\tabPage\\tabGoods.vue:106"),0==e.index&&t.navigateTo({url:"/pages/index/board"})},onNavigationBarSearchInputClicked:function(){t.switchTab({url:"/pages/common/search"})},methods:{scroll:function(t){},touchmove:function(e){var s=this;if(a("log",t.getStorageSync("nextPage"+this.type)," at pages\\tabPage\\tabGoods.vue:121"),a("log",this.type," at pages\\tabPage\\tabGoods.vue:122"),!t.getStorageSync("nextPage"+this.type)){if(this.page++,a("log",this.page," at pages\\tabPage\\tabGoods.vue:125"),"聚划算"==this.type||"淘抢购"==this.type||"9.9元"==this.type)return void(0,o.getItemList)({page:this.page,type:this.type}).then((function(e){a("log",e," at pages\\tabPage\\tabGoods.vue:131"),s.loadingType=2,t.setStorageSync("nextPage"+s.type,e.data.res),s.newsitems.length<10?a("log",s.newsitems," at pages\\tabPage\\tabGoods.vue:135"):a("log",s.newsitems," at pages\\tabPage\\tabGoods.vue:137")}));(0,o.getGoodsList)({page:this.page,type:this.type}).then((function(e){s.loadingType=2,t.setStorageSync("nextPage"+s.type,e.result),e.result<10&&(s.loadingType=2)}))}},loadMore:function(e){var s=this;setTimeout((function(){a("log",s.newsitems.concat(t.getStorageSync("nextPage"+s.type))," at pages\\tabPage\\tabGoods.vue:161"),s.newsitems=s.newsitems.concat(t.getStorageSync("nextPage"+s.type)),t.removeStorageSync("nextPage"+s.type)}),300)},randomfn:function(){var t=this,e=this.type;a("log",e," at pages\\tabPage\\tabGoods.vue:168"),"聚划算"!=e&&"淘抢购"!=e&&"9.9元"!=e||(e="special");switch(e){case"special":a("log",this.newsitems.length," at pages\\tabPage\\tabGoods.vue:175");for(var s=0;s<10;s++)(0,o.getItemList)({page:s,type:this.type}).then((function(e){a("log",e," at pages\\tabPage\\tabGoods.vue:182"),t.loadingType=2,t.newsitems=t.newsitems.concat(e.data.res),t.newsitems.length<10?a("log",t.newsitems," at pages\\tabPage\\tabGoods.vue:186"):a("log",t.newsitems," at pages\\tabPage\\tabGoods.vue:188")}));break;default:(0,o.getGoodsList)({page:this.page,type:this.type}).then((function(e){return a("log",e," at pages\\tabPage\\tabGoods.vue:199"),t.loadingType=2,t.newsitems=e.result,e.data.result}))}return e},screentap:function(t){var e=this.type;a("log",this.type," at pages\\tabPage\\tabGoods.vue:209"),""==t?(this.isDefault=!0,this.isTotal_sales=0,this.isTk_rate=0,this.isPrice=0,this._getGoodsList({type:e,sorts:t})):"total_sales"==t?(this.isDefault=!1,this.isTk_rate=0,this.isPrice=0,0==this.isTotal_sales||1==this.isTotal_sales?(this._getGoodsList({sorts:t+"_des",type:e}),this.isTotal_sales=2):2==this.isTotal_sales&&(this.sorts.sort1=t+"_asc",this._getGoodsList({sorts:t+"_asc",type:e}),this.isTotal_sales=1)):"tk_rate"==t?(this.isDefault=!1,this.isTotal_sales=0,this.isPrice=0,0==this.isTk_rate||1==this.isTk_rate?(this._getGoodsList({sorts:t+"_des",type:e}),this.isTk_rate=2):(this._getGoodsList({sorts:t+"_asc",type:e}),this.isTk_rate=1)):"price"==t&&(this.isDefault=!1,this.isTotal_sales=0,this.isTk_rate=0,0==this.isPrice||1==this.isPrice?(this._getGoodsList({sorts:t+"_des",type:e}),this.isPrice=2):(this._getGoodsList({sorts:t+"_asc",type:e}),this.isPrice=1))},_getGoodsList:function(e){var s=this;a("log",e," at pages\\tabPage\\tabGoods.vue:274"),t.showLoading({title:"加载中.."});var i=(0,o.getGoodsList)({type:e.type,sorts:e.sorts});i.then((function(e){t.hideLoading(),200==e.code?s.newsitems=e.result:a("log","请求失败"," at pages\\tabPage\\tabGoods.vue:287")}))}}};e.default=h}).call(this,s("6e42")["default"],s("0de9")["default"])},d96d:function(t,e,s){"use strict";var a,o=function(){var t=this,e=t.$createElement;t._self._c},i=[];s.d(e,"b",(function(){return o})),s.d(e,"c",(function(){return i})),s.d(e,"a",(function(){return a}))}},[["3966","common/runtime","common/vendor"]]]);