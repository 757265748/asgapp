(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/common/goods-detail"],{"31e8":function(o,t,e){"use strict";var n=e("e86a"),i=e.n(n);i.a},3901:function(o,t,e){"use strict";var n=function(){var o=this,t=o.$createElement;o._self._c},i=[];e.d(t,"a",function(){return n}),e.d(t,"b",function(){return i})},"4faf":function(o,t,e){"use strict";(function(o){e("00a9"),e("921b");n(e("66fd"));var t=n(e("747f"));function n(o){return o&&o.__esModule?o:{default:o}}o(t.default)}).call(this,e("6e42")["createPage"])},"747f":function(o,t,e){"use strict";e.r(t);var n=e("3901"),i=e("ad59");for(var s in i)"default"!==s&&function(o){e.d(t,o,function(){return i[o]})}(s);e("31e8");var l=e("2877"),a=Object(l["a"])(i["default"],n["a"],n["b"],!1,null,"a355c00c",null);t["default"]=a.exports},ad59:function(o,t,e){"use strict";e.r(t);var n=e("ce65"),i=e.n(n);for(var s in n)"default"!==s&&function(o){e.d(t,o,function(){return n[o]})}(s);t["default"]=i.a},ce65:function(o,t,e){"use strict";(function(o,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(e("33d5")),s=e("8c24");e("61d4");function l(o){return o&&o.__esModule?o:{default:o}}var a=function(){return e.e("components/product-list").then(e.bind(null,"c398"))},c=function(){return e.e("components/other/uni-collapse/uni-collapse").then(e.bind(null,"be22"))},u=function(){return e.e("components/other/uni-collapse-item/uni-collapse-item").then(e.bind(null,"6bb1"))},d=function(){return e.e("components/other/uni-list/uni-list").then(e.bind(null,"165d"))},g=function(){return e.e("components/other/uni-list-item/uni-list-item").then(e.bind(null,"849c"))},r={computed:{collentionColor:function(){return this.isCollection?"#ff0000":"#fff"}},data:function(){return{nowScrollTop:0,isCollection:!1,table:"",page:1,scrolltop:0,navisShow:!0,isactive:!0,reprice:15,good:null,goodObj:{small_images:null,zk_final_price:null,reserve_price:null,volume:null,title:"",short_url:"",item_description:"",jy:null,pict_url:"",num_iid:""},recommend:{},detail:null,phone:this.getUser()}},onLoad:function(t){var e=t.id||"",n=t.table||"",i=t.page||"";this.page=i,console.log(o("table",n," at pages\\common\\goods-detail.vue:209")),console.log(o("id",e," at pages\\common\\goods-detail.vue:210")),console.log(o("page",i," at pages\\common\\goods-detail.vue:211"));var s=this._getPid();this._getData(e,n,s,i)},components:{productList:a,uniCollapse:c,uniCollapseItem:u,uniList:d,uniListItem:g},methods:{_getPid:function(){try{var o=n.getStorageSync("user");return o.pid}catch(t){}},getUser:function(){try{var o=n.getStorageSync("user");return o.phone}catch(t){}},copykey:function(){n.setClipboardData({data:"„Äê".concat(this.goodObj.title,"„Äë").concat(this.goodObj.short_url," ÁÇπÂáªÈìæÊé•ÔºåÂÜçÈÄâÊã©ÊµèËßàÂô®ÂíëÈñûÔºõÊàñÂæ©¬∑Âà∂ËøôÊÆµÊèèËø∞").concat(this.goodObj.tkl,"ÂêéÂà∞üëâÊ∑ò‚ôÇÂØ≥‚ôÄüëà"),success:function(){n.showToast({title:"Â∑≤Â§çÂà∂"})}})},collection:function(){var t=this;this.phone?this.isCollection?(console.log(o("ÂèñÊ∂àÊî∂Ëóè",this.isCollection," at pages\\common\\goods-detail.vue:261")),(0,s.deleteCollection)({phone:this.phone,num_iid:this.goodObj.num_iid}).then(function(o){t.isCollection=0,n.showToast({title:"Â∑≤ÂèñÊ∂à"})})):this.isCollection||(console.log(o("Â¢ûÂä†Êî∂Ëóè",this.isCollection," at pages\\common\\goods-detail.vue:272")),(0,s.addCollection)({phone:this.phone,volume:this.goodObj.volume,quanhoujia:this.goodObj.reserve_price,youhuiquan:this.good.youhuiquan||0,zk_final_price:this.goodObj.zk_final_price,title:this.goodObj.title,pict_url:this.goodObj.pict_url,num_iid:this.goodObj.num_iid}).then(function(e){console.log(o("Â∑≤Êî∂Ëóè"," at pages\\common\\goods-detail.vue:283")),t.isCollection=1,n.showToast({title:"Â∑≤Êî∂Ëóè"})})):n.showToast({title:"Êú™ÁôªÂΩï",icon:"none"})},share:function(){console.log(o("share"," at pages\\common\\goods-detail.vue:293")),n.share({provider:"weixin",scene:"WXSenceTimeline",type:0,href:this.goodObj.short_url,title:"ÊàëÊ≠£Âú®È¢ÜÂèñÊ∑òÂÆùË¥≠Áâ©Ë∂ÖÁ∫ß‰ºòÊÉ†Âà∏",summary:"".concat(this.goodObj.item_description),imageUrl:this.goodObj.small_images[0],success:function(t){console.log(o("success:"+JSON.stringify(t)," at pages\\common\\goods-detail.vue:303"))},fail:function(t){console.log(o("fail:"+JSON.stringify(t)," at pages\\common\\goods-detail.vue:306"))}})},jump:function(t){console.log(o(t," at pages\\common\\goods-detail.vue:311"));var e=t.slice(8);console.log(o("taobao://".concat(e)," at pages\\common\\goods-detail.vue:313")),console.log(o("url:"+t," at pages\\common\\goods-detail.vue:315")),i.default.detail(t,function(t){console.log(o(t," at pages\\common\\goods-detail.vue:317"))})},_getData:function(t,e,n,i){var l=this,a=Promise.all([(0,s.getGoodDetail)(t,e,n,this.getUser()),(0,s.getGoodsList)({page:0,type:"",screen:"",jg:""})]);a.then(function(n){if(l.good={},n.length>0){console.log(o("ÂïÜÂìÅËØ¶ÊÉÖ",n," at pages\\common\\goods-detail.vue:347"));var a=n[0].result.result.data;l.good={},l.good=a,console.log(o(l.good," at pages\\common\\goods-detail.vue:351")),(0,s.getSmallImg)(t).then(function(o){}),console.log(o(i," at pages\\common\\goods-detail.vue:356")),(0,s.getItems)(i,t,e).then(function(e){for(var i=0;i<e.result.length;i++)console.log(o(e.result[i].num_iid+"-"+t," at pages\\common\\goods-detail.vue:360")),e.result[i].num_iid==t&&(l.goodObj.item_description=e.result[i].item_description,console.log(o(e.result[i].item_description," at pages\\common\\goods-detail.vue:363")));e.result&&(l.goodObj.commission_rate=e.result[0].commission_rate),(0,s.getItemInfo)(t).then(function(t){console.log(o(JSON.stringify(t)," at pages\\common\\goods-detail.vue:370")),l.goodObj.small_images=t.data.result.n_tbk_item.small_images.string,l.goodObj.zk_final_price=t.data.result.n_tbk_item.zk_final_price,l.goodObj.reserve_price=t.data.result.n_tbk_item.reserve_price,l.goodObj.volume=t.data.result.n_tbk_item.volume,l.goodObj.title=t.data.result.n_tbk_item.title,l.goodObj.pict_url=t.data.result.n_tbk_item.pict_url,l.goodObj.num_iid=t.data.result.n_tbk_item.seller_id,console.log(o(l.good.youhuiquan||"0*"+l.goodObj.commission_rate||0," at pages\\common\\goods-detail.vue:378"));try{void 0!=l.good.youhuiquan&&void 0!=l.goodObj.commission_rate?(console.log(o(l.goodObj.commission_rate," at pages\\common\\goods-detail.vue:381")),console.log(o(l.good.youhuiquan," at pages\\common\\goods-detail.vue:382")),l.goodObj.yj=(l.good.youhuiquan*parseFloat(l.goodObj.commission_rate/100)).toFixed(2)):l.goodObj.yj=0}catch(e){l.goodObj.yj=0}console.log(o(l.goodObj.yj," at pages\\common\\goods-detail.vue:390")),l.goodObj.short_url=n[0].result.result.data.short_url,l.goodObj.tkl=n[0].result.result.data.tpwd,console.log(o(n[0].result.result.data.tpwd," at pages\\common\\goods-detail.vue:393")),console.log(o(n[0].result.result.data.short_url," at pages\\common\\goods-detail.vue:394")),console.log(o(l.goodObj.small_images," at pages\\common\\goods-detail.vue:395")),console.log(o(l.goodObj.volume," at pages\\common\\goods-detail.vue:396")),console.log(o(l.goodObj.title," at pages\\common\\goods-detail.vue:397")),console.log(o(t.data.result," at pages\\common\\goods-detail.vue:398"))})}),(0,s.getItemsDes)(t).then(function(t){l.goodObj.detailImgs=t.result,console.log(o(t," at pages\\common\\goods-detail.vue:405"))}),console.log(o(i,t," at pages\\common\\goods-detail.vue:407")),(0,s.getGoodDetail)(t).then(function(t){console.log(o(t," at pages\\common\\goods-detail.vue:409"))}),l.recommend=n[1].result}})},_getDetailImg:function(o){for(var t="",e=/<[^>]*>|<\/[^>]*>/gm,n=o.length,i=0;i<n;i++)-1!=o[i].indexOf("<txt>")?t+="":t+="<img src='https://"+o[i].replace(e,"")+"' style='width:100%;max-width:100%' />";return t},_getGoodDetail:function(t,e){var i=this,l=(0,s.getGoodDetail)(t,e);n.showLoading({title:"Âä†ËΩΩ‰∏≠...",mask:!0}),l.then(function(t){n.hideLoading(),200==t.code?(i.good=t.result,console.log(o("sp",i.good," at pages\\common\\goods-detail.vue:450"))):n.showToast({title:"Êü•Êó†Ê≠§ÂïÜÂìÅ",icon:"none"})})},_getRecommend:function(){var o=this,t=(0,s.getGoodsList)({page:0,type:"",screen:"",jg:""});t.then(function(t){200==t.code&&(o.recommend=t.result)})},back:function(){n.navigateBack({delta:1})},_onscroll:function(o){var t=o.target||o.srcElement;this.nowScrollTop=t.scrollTop},go:function(t){t||window.event;var e=t.target||t.srcElement;e.offsetLeft<190&&e.offsetLeft>150?(this.scrolltop=this.nowScrollTop,this.$nextTick(function(){this.scrolltop=0,this.isactive=!0})):e.offsetLeft<240&&e.offsetLeft>190&&(console.log(o("2",this.scrolltop," at pages\\common\\goods-detail.vue:500")),this.scrolltop=this.nowScrollTop,this.$nextTick(function(){this.scrolltop=555,this.isactive=!1}))}}};t.default=r}).call(this,e("0de9")["default"],e("6e42")["default"])},e86a:function(o,t,e){}},[["4faf","common/runtime","common/vendor"]]]);