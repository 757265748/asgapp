(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/common/search-detail"],{"2feb":function(t,e,n){"use strict";n.r(e);var o=n("b549"),a=n("5d29");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("ee8a");var s,u=n("f0c5"),c=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,"559eb5e4",null,!1,o["a"],s);e["default"]=c.exports},"5d29":function(t,e,n){"use strict";n.r(e);var o=n("c860"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},b549:function(t,e,n){"use strict";var o,a=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}))},c860:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("8c24"),i=function(){n.e("components/nav-bar").then(function(){return resolve(n("20a0"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/mediaList").then(function(){return resolve(n("a893"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/product-list").then(function(){return resolve(n("c398"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/uni-load-more").then(function(){return resolve(n("0b10"))}.bind(null,n)).catch(n.oe)},r={data:function(){return{isShow:!1,result:null,keyword:"",goodsId:"",page:1,loadingType:0,contentText:{contentdown:"没有更多了",contentrefresh:"正在加载...",contentnomore:"正在加载..."}}},components:{navBar:i,productList:u,uniLoadMore:c,mediaList:s},onLoad:function(e){this.keyword=e.keyword||"",this.goodsId=e.goodsId||"",t("log",JSON.stringify(e)," at pages\\common\\search-detail.vue:57"),this.getData()},onNavigationBarSearchInputChanged:function(e){this.getinput(e),t("log",e," at pages\\common\\search-detail.vue:62")},onNavigationBarSearchInputConfirmed:function(t){this.onTap(t.text)},onReachBottom:function(){var e=this;if(0===this.loadingType){this.loadingType=1,t("log",this.page," at pages\\common\\search-detail.vue:73");var n=(0,a.getKeyWord)(this.keyword,this.page);n.then((function(t){if(200!=t.code)return e.loadingType=3,void o.showToast({title:"没有更多了",icon:"none"});0!=t.result.length?(e.result=e.result.concat(t.result),e.page++,e.loadingType=0):e.loadingType=3}))}},methods:{back:function(){o.navigateBack({delta:1})},getRelationId:function(){t("log",JSON.stringify(o.getStorageSync("user"))," at pages\\common\\search-detail.vue:101");try{if(""!=o.getStorageSync("user").pid)return o.getStorageSync("user").pid;(0,a.getRelation_id)({phone:o.getStorageSync("user").phone}).then((function(e){if(t("log",e.data," at pages\\common\\search-detail.vue:107"),200==e.code)return""==e.data?(o.showToast({title:"你还没有授权淘宝",icon:"none"}),0):e.data}))}catch(e){t("log",e," at pages\\common\\search-detail.vue:123")}},getData:function(){var e=this;if(o.showLoading({title:"搜索中"}),""==this.goodsId){var n=(0,a.getKeyWord)(this.keyword,1);n.then((function(n){t("log",JSON.stringify(n)," at pages\\common\\search-detail.vue:133"),o.hideLoading(),200==n.code?(e.result=n.result,t("log","搜索结果",e.result," at pages\\common\\search-detail.vue:137")):o.showToast({title:n.msg,icon:"none"})}))}else t("log",this.getRelationId()," at pages\\common\\search-detail.vue:146"),(0,a.getGoodDetail)(Number(this.goodsId),Number(this.getRelationId())).then((function(n){o.hideLoading(),t("log",n.data," at pages\\common\\search-detail.vue:149"),e.result=[];var a=n.data.item_info;a.item_id=n.data.item_id,a.youhuiquan=n.data.youhuiquan,a.commission_rate=100*n.data.max_commission_rate,e.result.push(a),t("log",e.result[0]," at pages\\common\\search-detail.vue:156")}))},submit:function(t){this.keyword=t.detail.value.trim(),this.getData()},getinput:function(t){this.value=t.text,this.value?this.isShow=!0:this.isShow=!1},_getinput:function(t){this.keyword=t.detail.value.trim(),this.keyword?this.isShow=!0:this.isShow=!1},clear:function(){this.keyword="",this.isShow=!1},onTap:function(t){this.keyword=t,this.isShow=!0,this.getData()}}};e.default=r}).call(this,n("0de9")["default"],n("6e42")["default"])},e5dc:function(t,e,n){"use strict";(function(t){n("00a9"),n("921b");o(n("66fd"));var e=o(n("2feb"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},ee8a:function(t,e,n){"use strict";var o=n("fd4e"),a=n.n(o);a.a},fd4e:function(t,e,n){}},[["e5dc","common/runtime","common/vendor"]]]);