(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/login"],{"1fb6":function(e,n,t){"use strict";(function(e){t("00a9"),t("921b");o(t("66fd"));var n=o(t("8725"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("6e42")["createPage"])},2020:function(e,n,t){"use strict";var o=t("5eef"),i=t.n(o);i.a},"26bb":function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return i})},"5eef":function(e,n,t){},"7b95":function(e,n,t){"use strict";t.r(n);var o=t("dfdb"),i=t.n(o);for(var s in o)"default"!==s&&function(e){t.d(n,e,function(){return o[e]})}(s);n["default"]=i.a},8725:function(e,n,t){"use strict";t.r(n);var o=t("26bb"),i=t("7b95");for(var s in i)"default"!==s&&function(e){t.d(n,e,function(){return i[e]})}(s);t("2020");var a=t("2877"),u=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,"13507c29",null);n["default"]=u.exports},dfdb:function(e,n,t){"use strict";(function(e,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(t("33d5")),s=l(t("0b90")),a=t("8c24"),u=t("16c7");function l(e){return e&&e.__esModule?e:{default:e}}var r=function(){return t.e("components/uni-segmented-control").then(t.bind(null,"9455"))},c={data:function(){return{items:["登录","注册"],loginyzm:"发送验证码",regyzm:"发送验证码",isabled:!0,timer:null,yqm:"",code:"",current:0,activeColor:"#F9263E",styleType:"button",isSend:!0,phone:"",loginerror:"请输入手机号",logintext:"",url:"",viewFlag:!1,start_time:"",end_time:"",min:10}},components:{uniSegmentedControl:r},onLoad:function(){},methods:{back:function(){e.switchTab({url:"/pages/index/index"})},orderDate:function(e){var n,t=new Date,i=t.getFullYear(),s=t.getMonth()-2,a=t.getDate()+13,u=t.getHours(),l=t.getMinutes(),r=t.getSeconds(),c=new Date(i,s,a,u,l+e,r);i=c.getFullYear(),s=c.getMonth()-2,a=c.getDate()+13,u=c.getHours(),l=c.getMinutes(),r=c.getSeconds(),c=i+"-"+s+"-"+a+" "+u+":"+l+":"+r,n=""==n?new Date(i,s,a,u,l,r):c;var d=c;console.log(o(d," at pages\\index\\login.vue:122"))},accessLogin:function(){console.log(o(111111," at pages\\index\\login.vue:125")),(0,a.getCTK)({page:1}).then(function(e){console.log(o(JSON.stringify(e)," at pages\\index\\login.vue:129"))});var n={scene:"WXSceneSession",href:"www.baidu.com",title:"标题",summary:"xxx",imageUrl:"https://t12.baidu.com/it/u=224094710,3804416768&fm=76"};e.showToast({title:"正在分享"}),s.default.wxContentImage(n)},register:function(){var n=this;this.code&&this.yqm?(0,u.postRegister)({phone:this.phone,yqm:this.yqm,code:this.code}).then(function(t){console.log(o(t," at pages\\index\\login.vue:228")),console.log(o(t.result," at pages\\index\\login.vue:275")),i.default.login(function(s){e.setStorageSync("user",t.result),console.log(o(JSON.stringify(t)," at pages\\index\\login.vue:278"));var a="https://oauth.taobao.com/authorize?response_type=code&client_id=25901417&redirect_uri=http://39.108.215.49:8009/html/code.html&state="+n.phone+"&view=wap";0==s.code?(console.log(o("come in"," at pages\\index\\login.vue:284")),i.default.openUrl(a,function(){console.log(o(e.getStorageSync("user")," at pages\\index\\login.vue:286")),e.reLaunch({url:"/pages/index/user"}),console.log(o("授权成功："+s.data," at pages\\index\\login.vue:290"))})):console.log(o("授权失败："+s.data," at pages\\index\\login.vue:293"))}),e.getStorageSync("user")&&(console.log(o(n.phone," at pages\\index\\login.vue:298")),(0,a.getRelationId)({user:n.phone}).then(function(e){console.log(o(e," at pages\\index\\login.vue:302"))}),setTimeout(function(){e.reLaunch({url:"/pages/index/user"})},3e3))}):this._showToast("验证码或邀请码不能为空","none")},login:function(){var n=this;this.phone&&this.code?(0,u.postLogin)(this.phone,this.code).then(function(t){console.log(o(n.phone,n.code," at pages\\index\\login.vue:320")),100!=t.code?t.result&&(console.log(o("登陆!!",t.result," at pages\\index\\login.vue:326")),e.setStorageSync("user",t.result),e.switchTab({url:"/pages/index/user"})):n._showToast(t.msg,"none")}):this._showToast("手机号码或验证码不能为空","none")},checkphone:function(e){return this.phone=e.detail.value,this.phone?/^[1][3,4,5,6,7,8][0-9]{9}$/.test(this.phone)?(this.isabled=!1,void(this.isSend=!1)):(this._showToast("请输入正确的手机号码格式","none"),this.isabled=!0,void(this.isSend=!0)):(this._showToast("手机号码不能为空","none"),this.isabled=!0,void(this.isSend=!0))},send:function(e){var n=this;if(!this.isSend&&this.phone){var t=(0,u.sendcode)(this.phone,e);t.then(function(t){if(100!=t.code){n._showToast("验证码已发送"),n.isSend=!0;var o=null,i=60;o=setInterval(function(){"login"==e?n.loginyzm=--i+"S":"register"==e&&(n.regyzm=--i+"S"),0==i&&(clearInterval(o),"login"==e?n.loginyzm="发送验证码":n.regyzm="发送验证码",n.isSend=!1)},1e3)}else n._showToast(t.msg,"none")})}else this.phone||this._showToast("手机号码不能为空","none")},_showToast:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";e.showToast({title:n,icon:t})},onClickItem:function(e){this.current!==e&&(this.current=e)}}};n.default=c}).call(this,t("6e42")["default"],t("0de9")["default"])}},[["1fb6","common/runtime","common/vendor"]]]);