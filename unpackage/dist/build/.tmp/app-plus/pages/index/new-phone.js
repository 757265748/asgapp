(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/new-phone"],{4853:function(n,e,t){"use strict";(function(n){t("00a9"),t("921b");o(t("66fd"));var e=o(t("5cef"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("6e42")["createPage"])},"4f05":function(n,e,t){},"5cef":function(n,e,t){"use strict";t.r(e);var o=t("f417"),i=t("d764");for(var s in i)"default"!==s&&function(n){t.d(e,n,(function(){return i[n]}))}(s);t("8f83");var c,a=t("f0c5"),u=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,"29667920",null,!1,o["a"],c);e["default"]=u.exports},"8f83":function(n,e,t){"use strict";var o=t("4f05"),i=t.n(o);i.a},c9e4:function(n,e,t){"use strict";(function(n,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t("16c7"),s=function(){t.e("components/nav-bar").then(function(){return resolve(t("20a0"))}.bind(null,t)).catch(t.oe)},c=function(){t.e("components/line").then(function(){return resolve(t("c36e"))}.bind(null,t)).catch(t.oe)},a={data:function(){return{phone:"",pphone:"",code:"",isSend:!1,yzm:"发送验证码",newphone:"",isShow:!1}},components:{navBar:s,dividLine:c},onLoad:function(){this._getUser()},methods:{back:function(){n.navigateBack({delta:1})},clear:function(){this.newphone=""},_getUser:function(){try{var e=n.getStorageSync("user");this.phone=e.phone;var t=this.phone.substring(0,3),i=this.phone.substring(8,12);this.pphone="".concat(t,"*****").concat(i),o("log","user",this.phone," at pages\\index\\new-phone.vue:66")}catch(s){o("log","ERROR",s.message," at pages\\index\\new-phone.vue:68")}},checkphone:function(n){return this.newphone=n.detail.value,this.newphone?/^[1][3,4,5,7,8][0-9]{9}$/.test(this.newphone)?(this.isabled=!1,void(this.isSend=!1)):(this._showToast("请输入正确的手机号码格式","none"),this.isabled=!0,void(this.isSend=!0)):(this._showToast("手机号码不能为空","none"),this.isabled=!0,void(this.isSend=!0))},send:function(){var e=this;!this.isSend&&this.phone&&(0,i.newPhoneyzm)(this.newphone).then((function(t){if(100!=t.code){n.showToast({title:"验证码已发送"});var o=null,i=60;e.isSend=!0,o=setInterval((function(){e.yzm=--i+"S",0==i&&(clearInterval(o),e.yzm="发送验证码",e.isSend=!1)}),1e3)}else n.showToast({title:t.msg,icon:"none"})}))},submit:function(){var e=this;this.isSend||(0,i.newPhone)(this.newphone,this.code).then((function(t){if(200==t.code){n.showToast({title:"修改成功"});try{var o=n.getStorageSync("user");o.phone=e.newphone,n.setStorageSync("user",o)}catch(i){}setTimeout((function(){n.reLaunch({url:"/pages/index/setting"})}),500)}}))}},watch:{newphone:function(){this.newphone?this.isShow=!0:this.isShow=!1}}};e.default=a}).call(this,t("6e42")["default"],t("0de9")["default"])},d764:function(n,e,t){"use strict";t.r(e);var o=t("c9e4"),i=t.n(o);for(var s in o)"default"!==s&&function(n){t.d(e,n,(function(){return o[n]}))}(s);e["default"]=i.a},f417:function(n,e,t){"use strict";var o,i=function(){var n=this,e=n.$createElement;n._self._c},s=[];t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return s})),t.d(e,"a",(function(){return o}))}},[["4853","common/runtime","common/vendor"]]]);