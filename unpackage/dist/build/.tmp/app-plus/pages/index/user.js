(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/user"],{"21fb":function(e,t,n){"use strict";(function(e){n("00a9"),n("921b");a(n("66fd"));var t=a(n("39d5"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"2ba4":function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("16c7"),o=n("2ccc"),i=n("8c24"),r=function(){n.e("components/uni-segmented-control").then(function(){return resolve(n("9455"))}.bind(null,n)).catch(n.oe)},u={data:function(){return{title:"我的",headIcon:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/shuijiao.jpg?imageView2/3/w/200/h/100/q/90",msg:["买药不出门省时省力省口罩","健康好物速享 春季防护指南","2020年天猫品智315—主会场"],items:["淘宝"],current:0,activeColor:"#E11C1E",styleType:"text",user:new Object,tbsqFlag:e.getStorageSync("tbsqFlag"),user_data:null}},components:{uniSegmentedControl:r},onShow:function(t){this.user=e.getStorageSync("user"),this.existUser(),this.getUser()},onLoad:function(){a("log",e.getStorageSync("user")," at pages\\index\\user.vue:213"),(0,o.tx_zfb)({alipay:"13008847296",realname:"曾磊",money:1,beizhu:"app测试",thirdorder:""}).then((function(e){a("log",e," at pages\\index\\user.vue:221")})),a("log",e.getStorageSync("user")," at pages\\index\\user.vue:223"),e.setNavigationBarTitle({title:this.title}),this.getCommission(),e.removeStorageSync("tbsqFlag"),this.getData()},methods:{copykey:function(){},team_list:function(){e.navigateTo({url:"/pages/user/team_list"})},moreData:function(){e.navigateTo({url:"/pages/user/revenue"})},orderDetail:function(t){switch(t){case 1:e.navigateTo({url:"/pages/user/revenue"});break;case 2:e.navigateTo({url:"/pages/user/board"});break;case 3:e.navigateTo({url:"/pages/user/my_team"});break;case 4:e.navigateTo({url:"/pages/user/invite_friend"});break}},onClickItem:function(e){this.current!==e&&(this.current=e)},edit_info:function(){e.navigateTo({url:"/pages/user/my_info?user="+this.user+"&tbsqFlag="+this.tbsqFlag})},existUser:function(){e.getStorageSync("user")?(a("log",this.user," at pages\\index\\user.vue:288"),(0,i.existUser)(this.user.phone).then((function(t){200!=t.data.code&&(e.showToast({title:"用户不存在!",icon:"none"}),e.reLaunch({url:"/pages/index/login"}))}))):e.reLaunch({url:"/pages/index/login"})},tbsq:function(){var t=this;if(this.tbsqFlag)this.tbsqFlag=!this.tbsqFlag;else{var n=e.requireNativePlugin("dahui-alibaichuan");n.BCAuth((function(s){t.tbsqFlag=!0,e.setStorageSync("tbsqFlag",!0);var o="https://oauth.taobao.com/authorize?response_type=code&client_id=25901417&redirect_uri=http://39.108.215.49:8009/html/code.html&state="+e.getStorageSync("user").phone+"&view=wap";n.BCGetCoupons(o,(function(e){a("log",22," at pages\\index\\user.vue:315")}))}))}},customer:function(){e.showModal({title:"专属客服",content:"添加微信：xxxxx获取一对一专属服务",showCancel:!1,confirmText:"知道啦"})},getCommission:function(){(0,o.getnowbalance)({pid:this.user.pid}).then((function(e){a("log",e," at pages\\index\\user.vue:332")}))},getUser:function(){var t=this;a("log",e.getStorageSync("user")," at pages\\index\\user.vue:336");var n=(0,s.getUserinit)(e.getStorageSync("user").phone);n.then((function(n){a("log","佣金获取",n," at pages\\index\\user.vue:339"),100!=n.code?(e.setStorageSync("user_data",n.result),t.user_data=e.getStorageSync("user_data"),""==e.getStorageSync("user").pid?(t.tbsqFlag=!1,e.setStorageSync("tbsqFlag",!1)):(t.tbsqFlag=!0,e.setStorageSync("tbsqFlag",!0))):e.showToast({title:"初始化用户信息失败",icon:"none"})}))},getData:function(){try{if(e.setStorageSync("invitecode",e.getStorageSync("user").invitecode),!e.getStorageSync("user"))return void e.reLaunch({url:"/pages/index/login"});e.showLoading({title:"加载中..."}),this.getUser(),e.hideLoading()}catch(t){e.hideLoading(),e.showToast({title:"初始化用户信息失败",icon:"none"}),a("log","error",t.message," at pages\\index\\user.vue:384")}this.randomfn(),a("log",e.getStorageSync("goodsList")," at pages\\index\\user.vue:388")},randomfn:function(){var t=this;e.removeStorageSync("goodsList");for(var n=[],s=function(s){s<1&&(0,i.getGoodsList)({page:t.page,type:t.tabBars[s].name}).then((function(o){var i={data:[]};a("log",t.tabBars[s].name," at pages\\index\\user.vue:402"),i.data=o.result,n.push(i),t.goodsList.push(i),e.setStorageSync("goodsList",t.goodsList)}))},o=0;o<this.tabBars.length;o++)s(o);return n},jump:function(t){"tx"==t&&e.showModal({title:"爱省购提醒",content:"功能开发中...",showCancel:!1,confirmText:"知道啦"}),e.navigateTo({url:"/pages/index/".concat(t)})},copy:function(t){var n=new Object;n.scene="WXSceneSession",n.summary=t,share.wxContent(n),e.setClipboardData({data:t,success:function(){e.showToast({title:"已复制邀请码",icon:"success"})}})}}};t.default=u}).call(this,n("6e42")["default"],n("0de9")["default"])},"2c7c":function(e,t,n){"use strict";var a,s=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},"39d5":function(e,t,n){"use strict";n.r(t);var a=n("2c7c"),s=n("6df3");for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o);n("9ab7");var i,r=n("f0c5"),u=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);t["default"]=u.exports},5033:function(e,t,n){},"6df3":function(e,t,n){"use strict";n.r(t);var a=n("2ba4"),s=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=s.a},"9ab7":function(e,t,n){"use strict";var a=n("5033"),s=n.n(a);s.a}},[["21fb","common/runtime","common/vendor"]]]);