(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/user"],{"21fb":function(t,e,n){"use strict";(function(t){n("00a9"),n("921b");a(n("66fd"));var e=a(n("39d5"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"2ba4":function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n("16c7"),o=n("2ccc"),i=n("67e1"),r=n("8c24"),u=function(){n.e("components/uni-segmented-control").then(function(){return resolve(n("9455"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/uni-icon").then(function(){return resolve(n("96b7"))}.bind(null,n)).catch(n.oe)},l={data:function(){return{title:"我的",pdd:0,jd:0,gfwx:0,xsjc:0,cjwt:0,zhds:0,collect:0,dtwl:0,yjfk:0,aboutWe:0,lp:0,headIcon:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/shuijiao.jpg?imageView2/3/w/200/h/100/q/90",msg:["买药不出门省时省力省口罩","健康好物速享 春季防护指南","2020年天猫品智315—主会场"],items:["淘宝"],current:0,activeColor:"#E11C1E",styleType:"text",user:new Object,tbsqFlag:t.getStorageSync("tbsqFlag"),user_data:null,statusBarH:0}},computed:{otherService:function(){var t=0!=this.xsjc||0!=this.cjwt||0!=this.zhds||0!=this.collect||0!=this.dtwl||0!=this.yjfk||0!=this.aboutWe||0!=this.lp;return t}},components:{uniSegmentedControl:u,uniIcons:c},onShow:function(e){this.user=t.getStorageSync("user"),this.existUser(),this.getUser()},onPullDownRefresh:function(e){a("log",e," at pages\\index\\user.vue:247"),t.stopPullDownRefresh()},onLoad:function(){plus.navigator.isImmersedStatusbar()&&(a("log",plus.navigator.getStatusbarHeight()," at pages\\index\\user.vue:253"),this.statusBarH=plus.navigator.getStatusbarHeight())},methods:{copykey:function(){},team_list:function(){t.navigateTo({url:"/pages/user/team_list"})},moreData:function(){t.navigateTo({url:"/pages/user/revenue"})},orderDetail:function(e){switch(e){case 1:t.navigateTo({url:"/pages/user/revenue"});break;case 2:t.navigateTo({url:"/pages/user/board"});break;case 3:t.navigateTo({url:"/pages/user/my_team"});break;case 4:t.navigateTo({url:"/pages/user/invite_friend"});break}},onClickItem:function(t){this.current!==t&&(this.current=t)},edit_info:function(){t.navigateTo({url:"/pages/user/my_info?user="+this.user+"&tbsqFlag="+this.tbsqFlag})},existUser:function(){t.getStorageSync("user")?(a("log",this.user," at pages\\index\\user.vue:332"),(0,r.existUser)(this.user.phone).then((function(e){200!=e.data.code&&(t.showToast({title:"用户不存在!",icon:"none"}),t.reLaunch({url:"/pages/index/login"}))}))):t.reLaunch({url:"/pages/index/login"})},tbsq:function(){var e=this;if(this.tbsqFlag)this.tbsqFlag=!this.tbsqFlag;else{var n=t.requireNativePlugin("dahui-alibaichuan");n.BCAuth((function(s){e.tbsqFlag=!0,t.setStorageSync("tbsqFlag",!0);var o="https://oauth.taobao.com/authorize?response_type=code&client_id=25901417&redirect_uri=http://39.108.215.49:8009/html/code.html&state="+t.getStorageSync("user").phone+"&view=wap";n.BCGetCoupons(o,(function(t){a("log",22," at pages\\index\\user.vue:359")}))}))}},customer:function(){t.showModal({title:"专属客服",content:"添加微信：xxxxx获取一对一专属服务",showCancel:!1,confirmText:"知道啦"})},getCommission:function(){(0,o.getnowbalance)({pid:this.user.pid}).then((function(t){a("log",t," at pages\\index\\user.vue:376")}))},getUser:function(){var e=this;i.set_page.my_page().then((function(t){e.pdd=t.data.result.pdd,e.jd=t.data.result.jd,e.gfwx=t.data.result.gfwx,e.xsjc=t.data.result.xsjc,e.cjwt=t.data.result.cjwt,e.zhds=t.data.result.zhds,e.collect=t.data.result.collect,e.dtwl=t.data.result.dtwl,e.yjfk=t.data.result.yjfk,e.aboutWe=t.data.result.aboutWe,e.lp=t.data.result.lp,a("log",t," at pages\\index\\user.vue:392")})),a("log",t.getStorageSync("user")," at pages\\index\\user.vue:394");var n=(0,s.getUserinit)(t.getStorageSync("user").phone);n.then((function(n){a("log","佣金获取",n," at pages\\index\\user.vue:397"),100!=n.code?(t.setStorageSync("user_data",n.result),e.user_data=t.getStorageSync("user_data"),""==t.getStorageSync("user").pid?(e.tbsqFlag=!1,t.setStorageSync("tbsqFlag",!1)):(e.tbsqFlag=!0,t.setStorageSync("tbsqFlag",!0))):t.showToast({title:"初始化用户信息失败",icon:"none"})}))},getData:function(){try{if(t.setStorageSync("invitecode",t.getStorageSync("user").invitecode),!t.getStorageSync("user"))return void t.reLaunch({url:"/pages/index/login"});t.showLoading({title:"加载中..."}),this.getUser(),t.hideLoading()}catch(e){t.hideLoading(),t.showToast({title:"初始化用户信息失败",icon:"none"}),a("log","error",e.message," at pages\\index\\user.vue:442")}this.randomfn(),a("log",t.getStorageSync("goodsList")," at pages\\index\\user.vue:446")},randomfn:function(){var e=this;t.removeStorageSync("goodsList");for(var n=[],s=function(s){s<1&&(0,r.getGoodsList)({page:e.page,type:e.tabBars[s].name}).then((function(o){var i={data:[]};a("log",e.tabBars[s].name," at pages\\index\\user.vue:460"),i.data=o.result,n.push(i),e.goodsList.push(i),t.setStorageSync("goodsList",e.goodsList)}))},o=0;o<this.tabBars.length;o++)s(o);return n},jump:function(e){"tx"==e&&t.showModal({title:"爱省购提醒",content:"功能开发中...",showCancel:!1,confirmText:"知道啦"}),t.navigateTo({url:"/pages/index/".concat(e)})},copy:function(e){var n=new Object;n.scene="WXSceneSession",n.summary=e,share.wxContent(n),t.setClipboardData({data:e,success:function(){t.showToast({title:"已复制邀请码",icon:"success"})}})}}};e.default=l}).call(this,n("6e42")["default"],n("0de9")["default"])},"39d5":function(t,e,n){"use strict";n.r(e);var a=n("60b6"),s=n("6df3");for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);n("9ab7");var i,r=n("f0c5"),u=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);e["default"]=u.exports},"60b6":function(t,e,n){"use strict";var a,s=function(){var t=this,e=t.$createElement,a=(t._self._c,n("cd91")),s=n("8cd5"),o=n("b1e3"),i=n("a7fe");t.$mp.data=Object.assign({},{$root:{m0:a,m1:s,m2:o,m3:i}})},o=[];n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))},"6df3":function(t,e,n){"use strict";n.r(e);var a=n("2ba4"),s=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=s.a},"9ab7":function(t,e,n){"use strict";var a=n("c14d"),s=n.n(a);s.a},c14d:function(t,e,n){}},[["21fb","common/runtime","common/vendor"]]]);