{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///src/components/login.vue","webpack:///./src/components/login.vue?1140","webpack:///./src/components/login.vue","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js"],"names":["toObject","__webpack_require__","$keys","it","hasErrors","fieldsError","keys_default","some","field","components_login","data","form","isError","show","error","created","this","init","mounted","_this","$nextTick","validateFields","methods","_this2","$store","dispatch","then","res","console","log","$router","push","userNameError","_form","getFieldError","isFieldTouched","passwordError","_form2","handleSubmit","e","_this3","preventDefault","err","values","path","selectortype_template_index_0_src_components_login","render","this$1","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","slot","type","_v","staticStyle","padding","directives","name","rawName","value","expression","message","showIcon","margin","layout","autoFormCreate","on","submit","validateStatus","help","fieldDecoratorId","fieldDecoratorOptions","rules","required","placeholder","color","htmlType","disabled","getFieldsError","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","Object","keys","$export","core","fails","KEY","exec","fn","exp","S","F"],"mappings":"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","file":"static/js/3.e4ebbdd6fad7b9e72a03.js","sourcesContent":["// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = Cdx3\n// module chunks = 3","<template>\r\n  <a-layout\r\n    id=\"components-layout-demo-top\"\r\n    class=\"layout\"\r\n  >\r\n    <a-layout class=\"layout-bg\">\r\n      <a-layout-header>\r\n        <div class=\"logo\">\r\n          <span slot=\"title\">\r\n            <a-icon type=\"user\" />\r\n            <span>爱省购后台管理系统</span>\r\n          </span>\r\n        </div>\r\n      </a-layout-header>\r\n      <a-layout-content style=\"padding: 0 50px\">\r\n        <a-alert\r\n          :message=\"error\"\r\n          type=\"error\"\r\n          showIcon\r\n          v-show=\"show\"\r\n        />\r\n        <a-breadcrumb style=\"margin: 16px 0\">\r\n          <!-- <a-breadcrumb-item>登入</a-breadcrumb-item> -->\r\n        </a-breadcrumb>\r\n        <div class=\"login-container\">\r\n          <h3>欢迎登入</h3>\r\n          <!-- <a-input placeholder=\"请输入用户名\" />\r\n          <a-input type=\"password\" placeholder=\"请输入密码\" />-->\r\n          <a-form\r\n            layout=\"vertical\"\r\n            @submit=\"handleSubmit\"\r\n            :autoFormCreate=\"(form)=>{this.form = form}\"\r\n          >\r\n            <template v-if=\"form\">\r\n              <a-form-item\r\n                :validateStatus=\"userNameError() ? 'error' : ''\"\r\n                :help=\"userNameError() || ''\"\r\n                fieldDecoratorId=\"user\"\r\n                :fieldDecoratorOptions=\"{rules: [{ type:'string',required: true, message: '请输入正确的用户名!' }]}\"\r\n              >\r\n                <a-input placeholder=\"Username\">\r\n                  <a-icon\r\n                    slot=\"prefix\"\r\n                    type=\"user\"\r\n                    style=\"color:rgba(0,0,0,.25)\"\r\n                  />\r\n                </a-input>\r\n              </a-form-item>\r\n              <a-form-item\r\n                :validateStatus=\"passwordError() ? 'error' : ''\"\r\n                :help=\"passwordError() || ''\"\r\n                fieldDecoratorId=\"password\"\r\n                :fieldDecoratorOptions=\"{rules: [{ required: true, message: 'Please input your Password!' }]}\"\r\n              >\r\n                <a-input\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                >\r\n                  <a-icon\r\n                    slot=\"prefix\"\r\n                    type=\"lock\"\r\n                    style=\"color:rgba(0,0,0,.25)\"\r\n                  />\r\n                </a-input>\r\n                <p\r\n                  class=\"errtxt\"\r\n                  v-show=\"isError\"\r\n                >账号或密码错误</p>\r\n              </a-form-item>\r\n              <a-form-item>\r\n                <a-button\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  :disabled=\"hasErrors(form.getFieldsError())\"\r\n                >登入</a-button>\r\n              </a-form-item>\r\n            </template>\r\n          </a-form>\r\n        </div>\r\n      </a-layout-content>\r\n      <a-layout-footer class=\"footer-container\">爱省购 ©2018 Created by HXDZ</a-layout-footer>\r\n    </a-layout>\r\n  </a-layout>\r\n</template>\r\n<script>\r\nimport { postLogin } from \"@/api/login\";\r\n\r\nfunction hasErrors(fieldsError) {\r\n  return Object.keys(fieldsError).some(field => fieldsError[field]);\r\n}\r\nexport default {\r\n  data() {\r\n    return {\r\n      hasErrors,\r\n      form: null,\r\n      isError: false,\r\n      show: false,\r\n      error: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      // To disabled submit button at the beginning.\r\n      this.form.validateFields();\r\n    });\r\n    // login();\r\n  },\r\n  methods: {\r\n    //页面初始化\r\n    init() {\r\n      this.$store.dispatch(\"CheckLogin\").then(res => {\r\n        console.log(\"isLogin\", res);\r\n        if (!res) {\r\n          this.$router.push(\"/login\");\r\n        } else {\r\n          this.$router.push(\"/\");\r\n        }\r\n      });\r\n    },\r\n    // Only show error after a field is touched.\r\n    userNameError() {\r\n      const { getFieldError, isFieldTouched } = this.form;\r\n      //   console.log('user',isFieldTouched(\"userName\"))\r\n      return isFieldTouched(\"user\") && getFieldError(\"user\");\r\n    },\r\n    // Only show error after a field is touched.\r\n    passwordError() {\r\n      const { getFieldError, isFieldTouched } = this.form;\r\n      //    console.log('pwd',isFieldTouched(\"password\"))\r\n      return isFieldTouched(\"password\") && getFieldError(\"password\");\r\n    },\r\n    handleSubmit(e) {\r\n      let that = this;\r\n      e.preventDefault();\r\n      this.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          // console.log(\"Received values of form: \", values);\r\n          if (values) {\r\n            this.$store.dispatch(\"LoginByUsername\", values).then(() => {\r\n              this.$router.push({ path: \"/\" });\r\n            });\r\n          } else {\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\" >\r\n.logo {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  height: 32px;\r\n  //  background: rgba(255, 255, 255, 0.2);\r\n  margin: 16px;\r\n  color: #fff;\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n  }\r\n  span {\r\n    color: #fff;\r\n    font-size: 20px;\r\n  }\r\n}\r\n.layout {\r\n  height: 100%;\r\n  width: 100%;\r\n  background: url(\"./images/login.jpg\") no-repeat center center;\r\n  background-size: cover;\r\n  .layout-bg {\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(255, 255, 255, 0.5);\r\n    // opacity: 0.6;\r\n  }\r\n}\r\n.login-container {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 500px;\r\n  padding: 50px;\r\n  border-radius: 8px;\r\n  margin: 0 auto;\r\n  background: #fff;\r\n  box-shadow: 0 0 25px #cac6c6;\r\n  text-align: center;\r\n  h3 {\r\n    font-weight: 600;\r\n    font-size: 20px;\r\n  }\r\n}\r\n.footer-container {\r\n  background: #fff;\r\n  text-align: center;\r\n}\r\n.errtxt {\r\n  color: red;\r\n  font-size: 14px;\r\n  text-align: left;\r\n  margin-top: 10px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/login.vue","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-layout',{staticClass:\"layout\",attrs:{\"id\":\"components-layout-demo-top\"}},[_c('a-layout',{staticClass:\"layout-bg\"},[_c('a-layout-header',[_c('div',{staticClass:\"logo\"},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('a-icon',{attrs:{\"type\":\"user\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"爱省购后台管理系统\")])],1)])]),_vm._v(\" \"),_c('a-layout-content',{staticStyle:{\"padding\":\"0 50px\"}},[_c('a-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],attrs:{\"message\":_vm.error,\"type\":\"error\",\"showIcon\":\"\"}}),_vm._v(\" \"),_c('a-breadcrumb',{staticStyle:{\"margin\":\"16px 0\"}}),_vm._v(\" \"),_c('div',{staticClass:\"login-container\"},[_c('h3',[_vm._v(\"欢迎登入\")]),_vm._v(\" \"),_c('a-form',{attrs:{\"layout\":\"vertical\",\"autoFormCreate\":function (form){this$1.form = form}},on:{\"submit\":_vm.handleSubmit}},[(_vm.form)?[_c('a-form-item',{attrs:{\"validateStatus\":_vm.userNameError() ? 'error' : '',\"help\":_vm.userNameError() || '',\"fieldDecoratorId\":\"user\",\"fieldDecoratorOptions\":{rules: [{ type:'string',required: true, message: '请输入正确的用户名!' }]}}},[_c('a-input',{attrs:{\"placeholder\":\"Username\"}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.25)\"},attrs:{\"slot\":\"prefix\",\"type\":\"user\"},slot:\"prefix\"})],1)],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"validateStatus\":_vm.passwordError() ? 'error' : '',\"help\":_vm.passwordError() || '',\"fieldDecoratorId\":\"password\",\"fieldDecoratorOptions\":{rules: [{ required: true, message: 'Please input your Password!' }]}}},[_c('a-input',{attrs:{\"type\":\"password\",\"placeholder\":\"Password\"}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.25)\"},attrs:{\"slot\":\"prefix\",\"type\":\"lock\"},slot:\"prefix\"})],1),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isError),expression:\"isError\"}],staticClass:\"errtxt\"},[_vm._v(\"账号或密码错误\")])],1),_vm._v(\" \"),_c('a-form-item',[_c('a-button',{attrs:{\"type\":\"primary\",\"htmlType\":\"submit\",\"disabled\":_vm.hasErrors(_vm.form.getFieldsError())}},[_vm._v(\"登入\")])],1)]:_vm._e()],2)],1)],1),_vm._v(\" \"),_c('a-layout-footer',{staticClass:\"footer-container\"},[_vm._v(\"爱省购 ©2018 Created by HXDZ\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-74a40fae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74a40fae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-74a40fae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-74a40fae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = fZjL\n// module chunks = 3","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = jFbC\n// module chunks = 3","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = uqUo\n// module chunks = 3"],"sourceRoot":""}