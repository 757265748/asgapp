webpackJsonp([4],{"9x0B":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("//Fk"),r=a.n(i),s=a("Dd8w"),n=a.n(s),o=a("vMJZ"),u=a("NYxO"),l={data:function(){return{parentdata:[],childdata:[],confirmDirty:!1,autoCompleteResult:[],user:null,leveldisable:!1,formItemLayout:{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},tailFormItemLayout:{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}}}},components:{MeberForm:a("QNa8").a},computed:n()({},Object(u.b)(["jurisdiction"])),beforeCreate:function(){this.form=this.$form.createForm(this)},created:function(){var e=this.$route.query,t=e.phone,a=e.pid;t?this.init(t,a):this.$message.error("没有查到相关用户信息")},methods:{init:function(e,t){var a=this;r.a.all([Object(o.e)({phone:e}),Object(o.d)({pid:t}),Object(o.a)({pid:t})]).then(function(e){a.user=e[0].data.data,a.parentdata=e[1].data.data,a.childdata=e[2].data.data})},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFieldsAndScroll(function(e,a){e||(console.log("Received values of form: ",a),Object(o.f)({data:a}).then(function(e){var a=e.data;console.log(a),200==a.code&&t.$message.success(a.msg)}))})}},watch:{$route:function(e,t){if(this.$route.query.phone){var a=this.$route.query,i=a.phone,r=a.pid;this.init(i,r)}}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.user?a("a-form",{staticClass:"myform",attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",e._b({attrs:{label:"昵称"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入昵称"}],initialValue:e.user.username}],expression:"[\n        'name',\n        {\n          rules: [{\n            required: true, message: '请输入昵称'\n          }],\n          initialValue:user.username\n        },\n        \n      ]"}]})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"手机(用户名)"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"请输入手机号码"}],initialValue:e.user.phone}],expression:"[\n        'phone',\n        {\n          rules: [ {\n            required: true, message: '请输入手机号码',\n          }],\n          initialValue:user.phone\n        }\n      ]"}]})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"密码"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pwd",{rules:[{required:!0,message:"请输入手机号码"}],initialValue:e.user.pwd}],expression:"[\n        'pwd',\n        {\n          rules: [ {\n            required: true, message: '请输入手机号码',\n          }],\n          initialValue:user.pwd\n        }\n      ]"}]})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"支付宝账号"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["zfb",{rules:[{required:!0,message:"请输入支付宝账号!"}],initialValue:e.user.zfb}],expression:"[\n        'zfb',\n        {\n          rules: [ {\n            required: true, message: '请输入支付宝账号!',\n          }],\n          initialValue:user.zfb\n        }\n      ]"}]})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"性别","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{rules:[{required:!0,message:"请选择性别"}],initialValue:e.user.sex}],expression:"[\n        'sex',\n        {rules: [{ required: true, message: '请选择性别' }],\n        initialValue:user.sex\n        },\n         \n      ]"}],attrs:{placeholder:"选择性别"}},[a("a-select-option",{attrs:{value:"china"}},[e._v("男")]),e._v(" "),a("a-select-option",{attrs:{value:"usa"}},[e._v("女")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"等级","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["level",{rules:[{required:!0,message:"请选择等级"}],initialValue:e.user.jurisdiction}],expression:"[\n        'level',\n        {rules: [{ required: true, message: '请选择等级' }],\n        initialValue:user.jurisdiction\n        }\n      ]"}],attrs:{disabled:"",placeholder:"选择等级"}},[a("a-select-option",{attrs:{value:"china"}},[e._v("合伙人")]),e._v(" "),a("a-select-option",{attrs:{value:"usa"}},[e._v("团长")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"支付宝名称"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["zfbname",{rules:[{required:!0,message:"请输入支付宝名称"}],initialValue:e.user.zfbname}],expression:"[\n        'zfbname',\n        {\n          rules: [ {\n            required: true, message: '请输入支付宝名称',\n          }],\n          initialValue:user.zfbname\n        }\n      ]"}]})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"推广位ID"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pid",{rules:[{required:!0,message:"请输入推广位ID"}],initialValue:e.user.pid}],expression:"[\n        'pid',\n        {\n          rules: [ {\n            required: true, message: '请输入推广位ID',\n          }],\n          initialValue:user.pid\n        }\n      ]"}]})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"合伙人编号"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["usercode",{rules:[{required:!0,message:"请输入合伙人编号"}],initialValue:e.user.usercode}],expression:"[\n        'usercode',\n        {\n          rules: [ {\n            required: true, message: '请输入合伙人编号',\n          }],\n           initialValue:user.usercode\n        }\n      ]"}],attrs:{disabled:""}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"合伙人邀请码"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["invitecode",{rules:[{required:!0,message:"请输入合伙人编号"}],initialValue:e.user.invitecode}],expression:"[\n        'invitecode',\n        {\n          rules: [ {\n            required: true, message: '请输入合伙人编号',\n          }],\n           initialValue:user.invitecode\n        }\n      ]"}],attrs:{disabled:""}})],1),e._v(" "),a("a-form-item",e._b({},"a-form-item",e.tailFormItemLayout,!1),[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("保存")])],1)],1):e._e(),e._v(" "),e._m(0),e._v(" "),a("meber-form",{attrs:{memberdata:e.parentdata,levelIsShow:!1}}),e._v(" "),e._m(1),e._v(" "),a("meber-form",{attrs:{memberdata:e.childdata,levelIsShow:!0}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("a",[this._v("我的上级")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("a",[this._v("我的下级")])])}]};var m=a("VU/8")(l,d,!1,function(e){a("jODQ")},"data-v-9c2f9620",null);t.default=m.exports},FID0:function(e,t){},QNa8:function(e,t,a){"use strict";var i=a("vMJZ"),r=[{title:"合伙人编号",dataIndex:"usercode",width:"20%",scopedSlots:{customRender:"usercode"}},{title:"用户名",dataIndex:"username"},{title:"注册时间",dataIndex:"registerdata",scopedSlots:{customRender:"registerdata"}},{title:"账号",dataIndex:"phone"},{title:"本月业绩",dataIndex:"commissionmonth",scopedSlots:{customRender:"commissionmonth"}},{title:"总业绩",dataIndex:"commissiontotal",scopedSlots:{customRender:"commissiontotal"}},{title:"合伙人等级",dataIndex:"jurisdiction",scopedSlots:{customRender:"jurisdiction"}},{title:"操作",dataIndex:"id",scopedSlots:{customRender:"operation"}}],s={filters:{slicedate:function(e){if(e)return e.slice(0,10)}},props:{levelIsShow:{type:Boolean,default:!0},memberdata:{type:[Array],default:[]}},created:function(){},mounted:function(){console.log("mounted",this.memberdata)},data:function(){return{pagination:{},loading:!1,columns:r,modalVisible:!1,bttilte:"",isDisabled:!1}},methods:{onSelect:function(e){this.$router.push({path:"/member-information",query:{phone:e.phone,pid:e.pid}})},tipcolor:function(e){return console.log("等级",this.memberdata[e].jurisdiction),"合伙人"==this.memberdata[e].jurisdiction?"blue":"red"},handleInputChange:function(e){var t=this;!this.levelIsShow||"合伙人"!==this.memberdata[e].jurisdiction&&"团长"!==this.memberdata[e].jurisdiction?this.$message.error("无权限修改"):(console.log("进入了",this.levelIsShow,this.memberdata[e].jurisdiction),this.memberdata[e].jurisdiction="合伙人"==this.memberdata[e].jurisdiction?"团长":"合伙人",this.isDisabled=!0,Object(i.i)({phone:this.memberdata[e].phone,jurisdiction:this.memberdata[e].jurisdiction}).then(function(e){t.isDisabled=!1,console.log("sdaf",e)}))},jump:function(e,t,a){this.$router.push({path:e,query:{pid:t,type:a}})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isDisabled,expression:"isDisabled"}],staticClass:"loading-wrap"},[a("a-spin",{staticClass:"loading"})],1),e._v(" "),a("a-table",{staticClass:"table",attrs:{columns:e.columns,dataSource:e.memberdata,pagination:e.pagination,loading:e.loading},scopedSlots:e._u([{key:"usercode",fn:function(t){return[e._v(e._s(t))]}},{key:"commissionmonth",fn:function(t,i){return[a("div",{staticClass:"editable-row-operations"},[a("span",[a("a",{on:{click:function(t){e.jump("/orderlist",i.pid,"month")}}},[e._v(e._s(t))])])])]}},{key:"commissiontotal",fn:function(t,i){return[a("div",{staticClass:"editable-row-operations"},[a("span",[a("a",{on:{click:function(t){e.jump("/orderlist",i.pid,"total")}}},[e._v(e._s(t))])])])]}},{key:"registerdata",fn:function(t){return[a("div",{staticClass:"editable-row-operations"},[a("span",[a("a",[e._v(e._s(e._f("slicedate")(t)))])])])]}},{key:"jurisdiction",fn:function(t,i,r){return a("span",{},[a("a-tag",{attrs:{color:e.tipcolor(r),disabled:""},on:{click:function(t){e.handleInputChange(r)}}},[e._v(e._s(t))])],1)}},{key:"operation",fn:function(t,i){return[a("div",{staticClass:"editable-row-operations"},[a("span",[a("a",{on:{click:function(t){e.onSelect(i)}}},[e._v("查看详情")])])])]}}])})],1)},staticRenderFns:[]};var o=a("VU/8")(s,n,!1,function(e){a("FID0")},"data-v-29ad68c8",null);t.a=o.exports},jODQ:function(e,t){}});
//# sourceMappingURL=4.26953c3c9a77f2a2d638.js.map