{"version":3,"sources":["webpack:///./src/api/voucherhistory.js","webpack:///./src/api/operatordetail.js","webpack:///src/components/view/registeroperator.vue","webpack:///./src/components/view/registeroperator.vue?0ad5","webpack:///./src/components/view/registeroperator.vue"],"names":["__webpack_require__","d","__webpack_exports__","voucherhistorySelect","__WEBPACK_IMPORTED_MODULE_0__util_request__","data","request","url","method","operatordetailSelect","pidtable","operatordetailInsert","registeroperator","computed","extends_default","Object","vuex_esm","dateFormat","OperatorCodeA","date","Date","pid","created","this","fetch","methods","moment","moment_default","a","_this","count1","count2","voucherhistory","KeyCode","then","res","results","number1","number","String","fromCharCode","console","log","operatordetail","length","$message","info","handleSubmit","e","_this2","preventDefault","form","validateFields","err","values","OperatorCode","EffectiveTime","OperatorPID","code","success","$router","push","onChange","dateString","view_registeroperator","render","this$1","_vm","_h","$createElement","_c","_self","attrs","autoFormCreate","on","submit","label","labelCol","span","wrapperCol","fieldDecoratorId","fieldDecoratorOptions","rules","type","required","id","_v","placeholder","disabled","message","defaultValue","format","change","offset","htmlType","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/9.9b93b8b9eab9ba0276b2.js","sourcesContent":["import request from '@/util/request'\r\n//订单列表\r\nfunction voucherhistorySelect(data) {\r\n\r\n    return request({\r\n        url: '/api/post/pc/voucherhistory-select',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n// 订单查询\r\nfunction voucherhistoryUpdateorinsert(data) {\r\n    return request({\r\n        url: '/api/post/pc/voucherhistory-updateorinsert',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport { voucherhistorySelect, voucherhistoryUpdateorinsert}\n\n\n// WEBPACK FOOTER //\n// ./src/api/voucherhistory.js","import request from '@/util/request'\r\n\r\n\r\nfunction operatordetailInsert(data) {\r\n    return request({\r\n        url: 'api/post/pc/operatordetail-insert',\r\n        method: 'post',\r\n        data,\r\n    })\r\n}\r\n\r\nfunction operatordetailSelect(data) {\r\n    return request({\r\n        url: 'api/post/pc/operatordetail-select',\r\n        method: 'post',\r\n        data,\r\n    })\r\n}\r\n\r\nfunction operatordetailUpdate(data) {\r\n    return request({\r\n        url: 'api/post/pc/operatordetail-update',\r\n        method: 'post',\r\n        data,\r\n    })\r\n\r\n}\r\n\r\nfunction operatordetailDelete(data) {\r\n    return request({\r\n        url: 'api/post/pc/operatordetail-delete',\r\n        method: 'post',\r\n        data,\r\n    })\r\n}\r\n\r\nfunction pidtable(data) {\r\n    return request({\r\n        url: 'api/post/pc/pidtable',\r\n        method: 'post',\r\n        data,\r\n    })\r\n}\r\nexport { operatordetailSelect, operatordetailUpdate, operatordetailDelete, pidtable,operatordetailInsert }\n\n\n// WEBPACK FOOTER //\n// ./src/api/operatordetail.js","<template>\r\n  <a-form @submit=\"handleSubmit\" :autoFormCreate=\"(form)=>{this.form = form}\">\r\n    <a-form-item\r\n      label=\"运营商名称\"\r\n      :labelCol=\"{ span: 5 }\"\r\n      :wrapperCol=\"{ span: 12 }\"\r\n      fieldDecoratorId=\"OperatorName\"\r\n      :fieldDecoratorOptions=\"{rules: [{type:'string', required: true }]}\"\r\n    >\r\n      <a-input id=\"OperatorName\"/>\r\n    </a-form-item>\r\n    <a-form-item\r\n      label=\"运营商代号\"\r\n      :labelCol=\"{ span: 5 }\"\r\n      :wrapperCol=\"{ span: 12 }\"\r\n      fieldDecoratorId=\"OperatorCode\"\r\n    >\r\n      <a-input :placeholder=\"OperatorCodeA\" disabled/>\r\n    </a-form-item>\r\n    <a-form-item\r\n      label=\"姓名\"\r\n      :labelCol=\"{ span: 5 }\"\r\n      :wrapperCol=\"{ span: 12 }\"\r\n      fieldDecoratorId=\"username\"\r\n      :fieldDecoratorOptions=\"{rules: [{type:'string', required: true,message: '请输入姓名'  }]}\"\r\n    >\r\n      <a-input/>\r\n    </a-form-item>\r\n    <a-form-item\r\n      label=\"手机号码\"\r\n      :labelCol=\"{ span: 5 }\"\r\n      :wrapperCol=\"{ span: 12 }\"\r\n      fieldDecoratorId=\"phone\"\r\n      :fieldDecoratorOptions=\"{rules: [{type:'string', required: true }]}\"\r\n    >\r\n      <a-input id=\"phone\"/>\r\n    </a-form-item>\r\n    <a-form-item\r\n      label=\"用户密码\"\r\n      :labelCol=\"{ span: 5 }\"\r\n      :wrapperCol=\"{ span: 12 }\"\r\n      fieldDecoratorId=\"password\"\r\n      :fieldDecoratorOptions=\"{rules: [{type:'string', required: true,message: '请输入密码'  }]}\"\r\n    >\r\n      <a-input type=\"password\" id=\"password\"/>\r\n    </a-form-item>\r\n    <a-form-item\r\n      label=\"有效时间\"\r\n      :labelCol=\"{ span: 5 }\"\r\n      :wrapperCol=\"{ span: 12 }\"\r\n      fieldDecoratorId=\"EffectiveTime\"\r\n    >\r\n      <a-date-picker\r\n        @change=\"onChange\"\r\n        :defaultValue=\"moment(date, dateFormat)\"\r\n        :format=\"dateFormat\"\r\n      />\r\n    </a-form-item>\r\n    <a-form-item :wrapperCol=\"{ span: 12, offset: 5 }\">\r\n      <a-button type=\"primary\" htmlType=\"submit\">新增</a-button>\r\n    </a-form-item>\r\n  </a-form>\r\n</template>\r\n<script>\r\nimport moment from \"moment\";\r\nimport { voucherhistorySelect } from \"@/api/voucherhistory\";\r\nimport { mapGetters } from \"vuex\";\r\nimport { operatordetailInsert, pidtable } from \"@/api/operatordetail\";\r\nimport { BASE_URL } from \"@/config/config\";\r\nexport default {\r\n  computed: {\r\n    ...mapGetters([\"operatorcode\"])\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      dateFormat: \"YYYY/MM/DD\",\r\n      OperatorCodeA: \"\",\r\n      date: new Date(),\r\n      pid: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    this.fetch();\r\n  },\r\n  methods: {\r\n    moment,\r\n    fetch() {\r\n      let count1 = 0;\r\n      let count2 = 0;\r\n      let ret = voucherhistorySelect({ KeyCode: \"operator\" });\r\n      ret.then(res => {\r\n        if(res.data.results[0].number1==90)\r\n        {\r\n          count1 = res.data.results[0].number + 1;\r\n          count2 = 65;\r\n        }else{\r\n            count1 = res.data.results[0].number ;\r\n            count2 = res.data.results[0].number1 +1;\r\n        }\r\n        this.OperatorCodeA =\r\n          String.fromCharCode(count1) + String.fromCharCode(count2);\r\n        console.log(\"OperatorCodeA\", this.OperatorCodeA);\r\n      });\r\n      let ret1 = pidtable({});\r\n\r\n      ret1.then(res => {\r\n        if (res.data.results.length > 0) {\r\n          this.pid = res.data.results[0].pid;\r\n        } else {\r\n          this.$message.info(\"没有可用的PID\");\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    handleSubmit(e) {\r\n      e.preventDefault();\r\n      this.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          //console.log(\"Received values of form: \", values);\r\n          values.OperatorCode = this.OperatorCodeA;\r\n          values.EffectiveTime = this.date;\r\n\r\n          values.OperatorPID = this.pid;\r\n          if (this.pid == \"\") {\r\n            this.$message.info(\"没有可用的PID\");\r\n            return;\r\n          }\r\n          operatordetailInsert(values).then(res => {\r\n            let data = res.data;\r\n            console.log(data.code);\r\n            if (data.code == 200) {\r\n              this.$message.success(\"新增成功！\", 4);\r\n              this.$router.push(\"./operator-detail\");\r\n            }\r\n          });\r\n\r\n          console.log(\"values\", values);\r\n        }\r\n      });\r\n    },\r\n    onChange(date, dateString) {\r\n      console.log(\"date\", dateString);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n/* you can make up upload button and sample style by using stylesheets */\r\n.ant-upload-select-picture-card i {\r\n  font-size: 32px;\r\n  color: #999;\r\n}\r\n\r\n.ant-upload-select-picture-card .ant-upload-text {\r\n  margin-top: 8px;\r\n  color: #666;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/view/registeroperator.vue","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-form',{attrs:{\"autoFormCreate\":function (form){this$1.form = form}},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{attrs:{\"label\":\"运营商名称\",\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 12 },\"fieldDecoratorId\":\"OperatorName\",\"fieldDecoratorOptions\":{rules: [{type:'string', required: true }]}}},[_c('a-input',{attrs:{\"id\":\"OperatorName\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"运营商代号\",\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 12 },\"fieldDecoratorId\":\"OperatorCode\"}},[_c('a-input',{attrs:{\"placeholder\":_vm.OperatorCodeA,\"disabled\":\"\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"姓名\",\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 12 },\"fieldDecoratorId\":\"username\",\"fieldDecoratorOptions\":{rules: [{type:'string', required: true,message: '请输入姓名'  }]}}},[_c('a-input')],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"手机号码\",\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 12 },\"fieldDecoratorId\":\"phone\",\"fieldDecoratorOptions\":{rules: [{type:'string', required: true }]}}},[_c('a-input',{attrs:{\"id\":\"phone\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"用户密码\",\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 12 },\"fieldDecoratorId\":\"password\",\"fieldDecoratorOptions\":{rules: [{type:'string', required: true,message: '请输入密码'  }]}}},[_c('a-input',{attrs:{\"type\":\"password\",\"id\":\"password\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"有效时间\",\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 12 },\"fieldDecoratorId\":\"EffectiveTime\"}},[_c('a-date-picker',{attrs:{\"defaultValue\":_vm.moment(_vm.date, _vm.dateFormat),\"format\":_vm.dateFormat},on:{\"change\":_vm.onChange}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"wrapperCol\":{ span: 12, offset: 5 }}},[_c('a-button',{attrs:{\"type\":\"primary\",\"htmlType\":\"submit\"}},[_vm._v(\"新增\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2ffd9db8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/view/registeroperator.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2ffd9db8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./registeroperator.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./registeroperator.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./registeroperator.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ffd9db8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./registeroperator.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/view/registeroperator.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}