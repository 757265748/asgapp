webpackJsonp([16],{"8ANY":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Dd8w"),i=r.n(a),o=r("D/cR");var n=r("NYxO"),s={computed:i()({},Object(n.b)(["jurisdiction"])),data:function(){return{tzratio:null,oneratio:null,tworatio:null,threeratio:null,disable:!1}},beforeCreate:function(){this.form=this.$form.createForm(this)},created:function(){this.init()},methods:{init:function(){var e=this;"超级管理员"!=this.jurisdiction&&(this.disable=!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.a)({url:"api/get/yj/getyj",method:"get",params:e})}().then(function(t){var r=t.data.result;e.tzratio=r.tz.ratio,e.oneratio=r.one.ratio,e.tworatio=r.two.ratio,e.threeratio=r.three.ratio})},submit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,r){var a,i=parseInt(r.oneratio)+parseInt(r.tworatio)+parseInt(r.threeratio)+parseInt(r.tzratio);if(i>100)return console.log(i),t.$message.error("总佣金分配比列值超过100,不合法");(a=r,Object(o.a)({url:"api/post/yj/upcommission",method:"post",data:a})).then(function(e){var r=e.data;if(200!=r.code)return t.$message.error("更新失败");t.$message.success(r.msg)})})},transform:function(e){console.log(e)}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.tzratio?r("div",{staticClass:"content"},[r("a-form",{attrs:{form:e.form},on:{submit:e.submit}},[r("div",{staticClass:"wrap"},[r("h2",{staticClass:"title"},[e._v("各等级佣金比列")]),e._v(" "),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["tzratio",{rules:[{required:!0,pattern:/\d/g,message:"请输入合法的比列值！"}],initialValue:100*e.tzratio,transform:e.transform}],expression:"[\n        'tzratio',\n        {rules: [{ required: true,  pattern:/\\d/g,message: '请输入合法的比列值！' }],initialValue:tzratio *100,transform:transform}\n      ]"}],attrs:{disabled:e.disable,addonBefore:"团长",addonAfter:"%"}})],1),e._v(" "),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["oneratio",{rules:[{required:!0,pattern:/\d/g,message:"请输入合法的比列值！"}],initialValue:100*e.oneratio}],expression:"[\n        'oneratio',\n        {rules: [{ required: true,pattern:/\\d/g, message: '请输入合法的比列值！' }],initialValue:oneratio *100}\n      ]"}],attrs:{disabled:e.disable,addonBefore:"一级代理",addonAfter:"%"}})],1),e._v(" "),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["tworatio",{rules:[{required:!0,pattern:/\d/g,message:"请输入合法的比列值！"}],initialValue:100*e.tworatio}],expression:"[\n        'tworatio',\n        {rules: [{ required: true,pattern:/\\d/g, message: '请输入合法的比列值！' }],initialValue:tworatio *100}\n      ]"}],attrs:{disabled:e.disable,addonBefore:"二级代理",addonAfter:"%"}})],1),e._v(" "),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["threeratio",{rules:[{required:!0,pattern:/\d/g,message:"请输入合法的比列值！"}],initialValue:100*e.threeratio}],expression:"[\n        'threeratio',\n        {rules: [{ required: true,pattern:/\\d/g, message: '请输入合法的比列值！' }],initialValue:threeratio *100}\n      ]"}],attrs:{disabled:e.disable,addonBefore:"三级代理",addonAfter:"%"}})],1)],1),e._v(" "),r("a-form-item",[r("a-button",{staticClass:"bt",attrs:{type:"primary",size:"large",disabled:e.disable},on:{click:e.submit}},[e._v("保存修改")])],1)],1)],1):e._e()},staticRenderFns:[]};var u=r("VU/8")(s,d,!1,function(e){r("vScO")},"data-v-6b396a66",null);t.default=u.exports},vScO:function(e,t){}});
//# sourceMappingURL=16.4650a50a4cfbd50b7da6.js.map