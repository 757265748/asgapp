webpackJsonp([17],{W6lR:function(t,e){},"sr/F":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Gu7T"),i=n.n(a),o=n("mvHQ"),d=n.n(o),s=n("Dd8w"),r=n.n(s),c=n("D/cR");var u=n("L9TO"),l=n("NYxO"),f=[{title:"新闻标题",width:"7%",dataIndex:"news_title"},{title:"新闻内容",width:"20%",dataIndex:"news_content",scopedSlots:{customRender:"news_content"}},{title:"发布时间",width:"20%",dataIndex:"news_create_time",scopedSlots:{customRender:"news_create_time"}},{title:"所属类别",width:"20%",dataIndex:"news_type",scopedSlots:{customRender:"news_type"}},{title:"创建人",width:"20%",dataIndex:"create_user"},{title:"查看",dataIndex:"id",width:"7%",scopedSlots:{customRender:"id"}},{title:"删除",dataIndex:"index",width:"7%",scopedSlots:{customRender:"index"}}],h={computed:r()({},Object(l.b)(["operatorcode","name"])),mounted:function(){this.init()},data:function(){return{data:[],pagination:{},loading:!1,previewImage:"",columns:f}},methods:{handleTableChange:function(t,e,n){console.log(t);var a=r()({},this.pagination);a.current=t.current,this.pagination=a,this.fetch(r()({results:t.pageSize,page:t.current,sortField:n.field,sortOrder:n.order},e))},init:function(){var t=this;this.loading=!0,Object(u.d)({create_user:this.name}).then(function(e){var n=e.data;if(200==n.code){for(var a in t.data=n.data,t.data)t.data[a].index=a;t.loading=!1}})},confirm:function(t){var e=this;Object(u.a)({id:this.data[t].id}).then(function(n){var a=n.data;e.data.splice(t,1),e.$message.info(a.msg)})},jump:function(t,e){var n=d()(this.data[e]);this.$router.push({path:t,query:{params:n}})},onDelete:function(t,e){var n,a=[].concat(i()(this.data));console.log("key",t),(n=a[e],Object(c.a)({url:"api/post/pc/itemid_news-delete",method:"post",data:n})).then(function(t){});var o=a.filter(function(e){return e.num_iid!==t});console.log("newData1",o),this.data=a.filter(function(e){return e.num_iid!==t})}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-table",{staticClass:"table",attrs:{columns:t.columns,dataSource:t.data,scroll:{x:1300},pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"id",fn:function(e,a,i){return[n("a",{on:{click:function(e){t.jump("/additemidnews",i)}}},[t._v("详情")])]}},{key:"index",fn:function(e,a,i){return[n("a-popconfirm",{attrs:{title:"确定删除此条新闻?",okText:"确定",cancelText:"取消"},on:{confirm:function(e){t.confirm(i)}}},[n("a",{attrs:{href:"#"}},[t._v("删除")])])]}},{key:"news_content",fn:function(e){return[n("div",{staticClass:"news-content",domProps:{innerHTML:t._s(e)}})]}}])})],1)},staticRenderFns:[]};var m=n("VU/8")(h,p,!1,function(t){n("W6lR")},"data-v-3f839478",null);e.default=m.exports}});
//# sourceMappingURL=17.288e54449d88e9c3fa0a.js.map