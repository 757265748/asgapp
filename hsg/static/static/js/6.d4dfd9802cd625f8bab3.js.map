{"version":3,"sources":["webpack:///src/components/common/meberform.vue","webpack:///./src/components/common/meberform.vue?eb39","webpack:///./src/components/common/meberform.vue","webpack:///src/components/view/member-list.vue","webpack:///./src/components/view/member-list.vue?3d65","webpack:///./src/components/view/member-list.vue"],"names":["columns","title","dataIndex","width","scopedSlots","customRender","meberform","filters","slicedate","value","slice","props","levelIsShow","type","Boolean","default","memberdata","Array","created","mounted","data","pagination","loading","modalVisible","bttilte","isDisabled","methods","onSelect","item","this","$router","push","path","query","phone","pid","tipcolor","index","jurisdiction","handleInputChange","_this","$message","error","Object","user","then","res","jump","url","common_meberform","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","expression","staticClass","_v","attrs","dataSource","_u","key","fn","usercode","_s","commissionmonth","record","on","click","$event","commissiontotal","registerdata","_f","color","disabled","username","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","member_list","computed","extends_default","vuex_esm","components","MeberForm","fetch","operatorcode","search","code","i","result","id","handleTableChange","sorter","pager","current","results","pageSize","page","sortField","field","sortOrder","order","_this2","arguments","length","undefined","$route","watch","to","from","view_member_list","placeholder","enterButton"],"mappings":"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","file":"static/js/6.d4dfd9802cd625f8bab3.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"loading-wrap\" v-show=\"isDisabled\">\r\n      <a-spin class=\"loading\"/>\r\n    </div>\r\n    <a-table\r\n      class=\"table\"\r\n      :columns=\"columns\"\r\n      :dataSource=\"memberdata\"\r\n      :pagination=\"pagination\"\r\n      :loading=\"loading\"\r\n    >\r\n      <template slot=\"usercode\" slot-scope=\"usercode\">{{usercode}}</template>\r\n      <template slot=\"commissionmonth\" slot-scope=\"commissionmonth, record\">\r\n        <div class=\"editable-row-operations\">\r\n          <span>\r\n            <a @click=\"jump('/orderlist',record.pid,'month')\">{{commissionmonth}}</a>\r\n          </span>\r\n        </div>\r\n      </template>\r\n      <template slot=\"commissiontotal\" slot-scope=\"commissiontotal, record\">\r\n        <div class=\"editable-row-operations\">\r\n          <span>\r\n            <a @click=\"jump('/orderlist',record.pid,'total')\">{{commissiontotal}}</a>\r\n          </span>\r\n        </div>\r\n      </template>\r\n      <template slot=\"registerdata\" slot-scope=\"registerdata\">\r\n        <div class=\"editable-row-operations\">\r\n          <span>\r\n            <a>{{registerdata|slicedate}}</a>\r\n          </span>\r\n        </div>\r\n      </template>\r\n      <span slot=\"jurisdiction\" slot-scope=\"jurisdiction, record, index\">\r\n        <a-tag :color=\"tipcolor(index)\" disabled @click=\"handleInputChange(index)\">{{jurisdiction}}</a-tag>\r\n      </span>\r\n      <template slot=\"operation\" slot-scope=\"username,record\">\r\n        <div class=\"editable-row-operations\">\r\n          <span>\r\n            <a @click=\"onSelect(record)\">查看详情</a>\r\n          </span>\r\n        </div>\r\n      </template>\r\n    </a-table>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { userupgradelevel } from \"@/api/user\";\r\nconst columns = [\r\n  {\r\n    title: \"合伙人编号\",\r\n    dataIndex: \"usercode\",\r\n    width: \"20%\",\r\n    scopedSlots: { customRender: \"usercode\" }\r\n  },\r\n  {\r\n    title: \"用户名\",\r\n    dataIndex: \"username\"\r\n  },\r\n  {\r\n    title: \"注册时间\",\r\n    dataIndex: \"registerdata\",\r\n    scopedSlots: { customRender: \"registerdata\" }\r\n  },\r\n  {\r\n    title: \"账号\",\r\n    dataIndex: \"phone\"\r\n  },\r\n  {\r\n    title: \"本月业绩\",\r\n    dataIndex: \"commissionmonth\",\r\n    scopedSlots: { customRender: \"commissionmonth\" }\r\n  },\r\n  {\r\n    title: \"总业绩\",\r\n    dataIndex: \"commissiontotal\",\r\n    scopedSlots: { customRender: \"commissiontotal\" }\r\n  },\r\n  {\r\n    title: \"合伙人等级\",\r\n    dataIndex: \"jurisdiction\",\r\n    scopedSlots: { customRender: \"jurisdiction\" }\r\n  },\r\n  {\r\n    title: \"操作\",\r\n    dataIndex: \"id\",\r\n    scopedSlots: { customRender: \"operation\" }\r\n  }\r\n];\r\n\r\nexport default {\r\n  filters: {\r\n    slicedate(value) {\r\n      if (value) {\r\n        return value.slice(0, 10);\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    levelIsShow: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    memberdata: {\r\n      type: [Array],\r\n      default: []\r\n    }\r\n  },\r\n  created() {\r\n    // console.log(\"created\", this.memberdata);\r\n  },\r\n  mounted() {\r\n    // console.log(\"mounted\", this.memberdata);\r\n  },\r\n  data() {\r\n    return {\r\n      pagination: {},\r\n      loading: false,\r\n      columns,\r\n      modalVisible: false,\r\n      bttilte: \"\",\r\n      isDisabled: false\r\n    };\r\n  },\r\n  methods: {\r\n    onSelect(item) {\r\n      this.$router.push({\r\n        path: \"/member-information\",\r\n        query: { phone: item.phone, pid: item.pid }\r\n      });\r\n    },\r\n    tipcolor(index) {\r\n      let color;\r\n      // console.log(\"等级\", this.memberdata[index].jurisdiction);\r\n      return (color =\r\n        this.memberdata[index].jurisdiction == \"合伙人\" ? \"blue\" : \"red\");\r\n    },\r\n    handleInputChange(index) {\r\n      if (\r\n        this.levelIsShow &&\r\n        (this.memberdata[index].jurisdiction === \"合伙人\" ||\r\n          this.memberdata[index].jurisdiction === \"团长\")\r\n      ) {\r\n       \r\n        this.memberdata[index].jurisdiction =\r\n          this.memberdata[index].jurisdiction == \"合伙人\" ? \"团长\" : \"合伙人\";\r\n        this.isDisabled = true;\r\n        userupgradelevel({\r\n          phone: this.memberdata[index].phone,\r\n          jurisdiction: this.memberdata[index].jurisdiction\r\n        }).then(res => {\r\n          this.isDisabled = false;\r\n          // console.log(\"sdaf\", res);\r\n        });\r\n      } else {\r\n        this.$message.error(\"无权限修改\");\r\n      }\r\n    },\r\n    jump(url, pid, type) {\r\n      this.$router.push({\r\n        path: url,\r\n        query: {\r\n          pid,\r\n          type\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style  scoped lang=\"less\">\r\n.table {\r\n  color: red !important;\r\n}\r\n#search-wrap {\r\n  width: 500px !important;\r\n  margin: 0 auto;\r\n  .ant-input-suffix {\r\n    right: 0px;\r\n  }\r\n}\r\n.search-bt {\r\n  right: -22px;\r\n}\r\n#search-wrap .ant-input-affix-wrapper .ant-input-suffix button {\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.content {\r\n  width: 50% !important;\r\n  margin: 0 auto;\r\n}\r\n.loading-wrap {\r\n  width: 100vw;\r\n  height: 50vh;\r\n  position: absolute;\r\n  z-index: 999;\r\n  background: rgba(0, 0, 0, 0);\r\n  .loading {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 25%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n}\r\n</style>\r\n \n\n\n// WEBPACK FOOTER //\n// src/components/common/meberform.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDisabled),expression:\"isDisabled\"}],staticClass:\"loading-wrap\"},[_c('a-spin',{staticClass:\"loading\"})],1),_vm._v(\" \"),_c('a-table',{staticClass:\"table\",attrs:{\"columns\":_vm.columns,\"dataSource\":_vm.memberdata,\"pagination\":_vm.pagination,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"usercode\",fn:function(usercode){return [_vm._v(_vm._s(usercode))]}},{key:\"commissionmonth\",fn:function(commissionmonth, record){return [_c('div',{staticClass:\"editable-row-operations\"},[_c('span',[_c('a',{on:{\"click\":function($event){_vm.jump('/orderlist',record.pid,'month')}}},[_vm._v(_vm._s(commissionmonth))])])])]}},{key:\"commissiontotal\",fn:function(commissiontotal, record){return [_c('div',{staticClass:\"editable-row-operations\"},[_c('span',[_c('a',{on:{\"click\":function($event){_vm.jump('/orderlist',record.pid,'total')}}},[_vm._v(_vm._s(commissiontotal))])])])]}},{key:\"registerdata\",fn:function(registerdata){return [_c('div',{staticClass:\"editable-row-operations\"},[_c('span',[_c('a',[_vm._v(_vm._s(_vm._f(\"slicedate\")(registerdata)))])])])]}},{key:\"jurisdiction\",fn:function(jurisdiction, record, index){return _c('span',{},[_c('a-tag',{attrs:{\"color\":_vm.tipcolor(index),\"disabled\":\"\"},on:{\"click\":function($event){_vm.handleInputChange(index)}}},[_vm._v(_vm._s(jurisdiction))])],1)}},{key:\"operation\",fn:function(username,record){return [_c('div',{staticClass:\"editable-row-operations\"},[_c('span',[_c('a',{on:{\"click\":function($event){_vm.onSelect(record)}}},[_vm._v(\"查看详情\")])])])]}}])})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11b94be1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/meberform.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11b94be1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./meberform.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./meberform.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./meberform.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11b94be1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./meberform.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-11b94be1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/meberform.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div id=\"search-wrap\">\r\n      <a-input-search placeholder=\"请输入要查询的运营商编码\" @search=\"search\" enterButton/>\r\n    </div>\r\n    <meber-form :memberdata=\"data\"/>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getmemberList, userupgradelevel, getmemberAllList } from \"@/api/user\";\r\nimport MeberForm from \"@/components/common/meberform\";\r\nexport default {\r\n  computed: {\r\n    ...mapGetters([\"operatorcode\"])\r\n  },\r\n  components: {\r\n    MeberForm\r\n  },\r\n  mounted() {\r\n    this.fetch({ operatorcode: this.operatorcode });\r\n  },\r\n  data() {\r\n    return {\r\n      data: [],\r\n      pagination: {},\r\n      loading: false,\r\n      modalVisible: false,\r\n      memberdata: null,\r\n      bttilte: \"\",\r\n      isDisabled: false\r\n    };\r\n  },\r\n  methods: {\r\n    search(value) {\r\n      getmemberList({ operatorcode: value }).then(res => {\r\n        this.loading = false;\r\n        let data = res.data;\r\n        if (data.code != 200) {\r\n          return this.$message.error(\"查无数据\", 4);\r\n        }\r\n        for (let i in data.result) {\r\n          data.result[i].id = i;\r\n          data.result[i].commissionmonth = data.result[i].commissionmonth || 0;\r\n          data.result[i].commissiontotal = data.result[i].commissiontotal || 0;\r\n        }\r\n        this.data = [];\r\n        this.data = data.result;\r\n      });\r\n    },\r\n    handleTableChange(pagination, filters, sorter) {\r\n      const pager = { ...this.pagination };\r\n      pager.current = pagination.current;\r\n      this.pagination = pager;\r\n      this.fetch({\r\n        results: pagination.pageSize,\r\n        page: pagination.current,\r\n        sortField: sorter.field,\r\n        sortOrder: sorter.order,\r\n        ...filters\r\n      });\r\n    },\r\n    fetch(params = {}) {\r\n      let { type } = this.$route.query;\r\n      this.loading = true;\r\n      if (type == \"all\") {\r\n        getmemberAllList().then(res => {\r\n          this.loading = false;\r\n          let data = res.data;\r\n          if (data.code != 200) {\r\n            return this.$message.error(\"查无数据\", 4);\r\n          }\r\n          for (let i in data.result) {\r\n            data.result[i].id = i;\r\n            data.result[i].commissionmonth =\r\n              data.result[i].commissionmonth || 0;\r\n            data.result[i].commissiontotal =\r\n              data.result[i].commissiontotal || 0;\r\n          }\r\n          this.data = [];\r\n          this.data = data.result;\r\n        });\r\n      } else {\r\n        getmemberList({ operatorcode: this.operatorcode }).then(res => {\r\n          this.loading = false;\r\n          let data = res.data;\r\n          if (data.code != 200) {\r\n            return this.$message.error(\"查无数据\", 4);\r\n          }\r\n          for (let i in data.result) {\r\n            data.result[i].id = i;\r\n            data.result[i].commissionmonth =\r\n              data.result[i].commissionmonth || 0;\r\n            data.result[i].commissiontotal =\r\n              data.result[i].commissiontotal || 0;\r\n          }\r\n          this.data = [];\r\n          this.data = data.result;\r\n        });\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    $route(to, from) {\r\n      this.fetch({ operatorcode: this.operatorcode });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style  scoped lang=\"less\">\r\n.table {\r\n  color: red !important;\r\n}\r\n#search-wrap {\r\n  width: 500px !important;\r\n  margin: 0 auto;\r\n  .ant-input-suffix {\r\n    right: 0px;\r\n  }\r\n}\r\n.search-bt {\r\n  right: -22px;\r\n}\r\n#search-wrap .ant-input-affix-wrapper .ant-input-suffix button {\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.content {\r\n  width: 50% !important;\r\n  margin: 0 auto;\r\n}\r\n.loading-wrap {\r\n  width: 100vw;\r\n  height: 50vh;\r\n  position: absolute;\r\n  z-index: 999;\r\n  background: rgba(0, 0, 0, 0);\r\n  .loading {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 25%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n}\r\n</style>\r\n \n\n\n// WEBPACK FOOTER //\n// src/components/view/member-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"search-wrap\"}},[_c('a-input-search',{attrs:{\"placeholder\":\"请输入要查询的运营商编码\",\"enterButton\":\"\"},on:{\"search\":_vm.search}})],1),_vm._v(\" \"),_c('meber-form',{attrs:{\"memberdata\":_vm.data}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-93d26a40\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/view/member-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-93d26a40\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./member-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./member-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./member-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-93d26a40\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./member-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-93d26a40\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/view/member-list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}